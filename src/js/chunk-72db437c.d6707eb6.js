(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72db437c"],{b7ef:function(t,e,s){"use strict";var a=s("23e7"),i=s("cfe9"),r=s("d066"),o=s("5c6c"),n=s("9bf2").f,l=s("1a2d"),c=s("19aa"),p=s("7156"),u=s("e391"),g=s("cf98"),d=s("0d26"),y=s("83ab"),h=s("c430"),w="DOMException",m=r("Error"),_=r(w),f=function(){c(this,x);var t=arguments.length,e=u(t<1?void 0:arguments[0]),s=u(t<2?void 0:arguments[1],"Error"),a=new _(e,s),i=new m(e);return i.name=w,n(a,"stack",o(1,d(i.stack,1))),p(a,this,f),a},x=f.prototype=_.prototype,b="stack"in new m(w),v="stack"in new _(1,2),S=_&&y&&Object.getOwnPropertyDescriptor(i,w),$=!!S&&!(S.writable&&S.configurable),T=b&&!$&&!v;a({global:!0,constructor:!0,forced:h||T},{DOMException:T?f:_});var k=r(w),E=k.prototype;if(E.constructor!==k)for(var D in h||n(E,"constructor",o(1,k)),g)if(l(g,D)){var R=g[D],I=R.s;l(k,I)||n(k,I,o(6,R.c))}},cf98:function(t,e,s){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},f899:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("u-linear-layout",{ref:"uLinearLayout1",class:"cw-style-height",staticStyle:{"--cw-style-height":"100%",height:"100%","min-height":"768px"},attrs:{type:"root",gap:"none"}},[s("u-linear-layout",{ref:"linear_layout_2W_1",class:"cw-style-height cw-style-margin-left cw-style-margin cw-style-margin-bottom cw-style-margin-top cw-style-margin-right",staticStyle:{"--cw-style-height":"100%","--cw-style-margin-left":"12px","--cw-style-margin-bottom":"8px","--cw-style-margin-top":"8px","--cw-style-margin-right":"12px","margin-top":"8px","--update-key":"jtyo","margin-bottom":"8px","margin-left":"12px","margin-right":"12px",height:"100%"},attrs:{direction:"horizontal",mode:"block"}},[s("u-grid-layout",{ref:"grid_layout_2W_2",class:"cw-style-width",staticStyle:{"--cw-style-width":"100%",width:"100%"}},[s("u-grid-layout-row",{ref:"grid_layout_row_2W_2",class:"cw-style-width",staticStyle:{"--cw-style-width":"100%",width:"100%"},attrs:{repeat:24}},[s("u-grid-layout-column",{ref:"grid_layout_column_2W_5",class:"cw-style-padding-right cw-style-padding",staticStyle:{"--cw-style-padding-right":"8px","padding-right":"8px","--update-key":"sx9z"},attrs:{span:19,wrap:!0}},[s("u-table-view",{directives:[{name:"dependencies",rawName:"v-dependencies.reload",value:[],expression:"[]",modifiers:{reload:!0}}],key:"table_view_2W_1",ref:"table_view_2W_1",class:"cw-style-height cw-style-background-color table_view",staticStyle:{"--cw-style-background-color":"#4e5969","background-color":"#4e5969","--table-view-td-padding":"0px 0px 0px 0px",height:"calc(100vh - 225px)"},attrs:{"show-sizer":!1,pagination:!0,pageSize:t.pageSize,pageNumber:t.pageNumber,"page-size-options":t.pageSizeOptions,dataSource:t.trayDtoList},on:{"sync:state":function(e,s){return t.onSync_State("table_view_2W_1",e,s)},"click-row":function(e){return t.table_view_2W_1_clickrow(e)},page:t.onPageChange},scopedSlots:t._u([{key:"loading",fn:function(){},proxy:!0},{key:"error",fn:function(){},proxy:!0},{key:"empty",fn:function(){},proxy:!0},{key:"dragGhost",fn:function(t){}}])},[s("u-table-view-column",{key:"table_view_column_2W_2",ref:"table_view_column_2W_2",scopedSlots:t._u([{key:"expander",fn:function(t){return[s("u-table-view-expander",{ref:"table_view_expander_2W_2_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[s("u-text",{ref:"text_2W_2",attrs:{text:"托盘编号"}})]},proxy:!0},{key:"cell",fn:function(e){return[s("u-linear-layout",{ref:"linear_layout_Tz_1_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-padding-left":"6px","--cw-style-padding-right":"10px","--update-key":"ehcj","padding-left":"6px","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_0ifknh20(e),"--cw-style-background-color":t.genviewMatchExpression_0ifknh20(e)},attrs:{direction:"horizontal",wrap:!0}},[s("u-text",{ref:"text_2W_4_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.Long",((e||{}).item||{}).trayCode),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),s("u-table-view-column",{key:"table_view_column_2W_3",ref:"table_view_column_2W_3",scopedSlots:t._u([{key:"expander",fn:function(t){return[s("u-table-view-expander",{ref:"table_view_expander_2W_3_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[s("u-text",{ref:"text_2W_5",attrs:{text:"任务类型"}})]},proxy:!0},{key:"cell",fn:function(e){return[s("u-linear-layout",{ref:"linear_layout_Tz_2_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px","padding-left":"6px","--update-key":"w6k6","padding-right":"10px",width:"100%",height:"100%","min-height":"43px"},style:{"background-color":t.genviewMatchExpression_16yc72a1(e),"--cw-style-background-color":t.genviewMatchExpression_16yc72a1(e)},attrs:{direction:"horizontal",wrap:!0}},[s("u-text",{ref:"text_2W_6_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.String",t.genviewMatchExpression_1813wbv0(e)),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),s("u-table-view-column",{key:"table_view_column_2W_4",ref:"table_view_column_2W_4",scopedSlots:t._u([{key:"expander",fn:function(t){return[s("u-table-view-expander",{ref:"table_view_expander_2W_4_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[s("u-text",{ref:"text_2W_7",attrs:{text:"状态"}})]},proxy:!0},{key:"cell",fn:function(e){return[s("u-linear-layout",{ref:"linear_layout_Tz_3_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-padding-left":"6px","--cw-style-padding-right":"10px","padding-left":"6px","--update-key":"6zo2","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_0p72vya1(e),"--cw-style-background-color":t.genviewMatchExpression_0p72vya1(e)},attrs:{direction:"horizontal",wrap:!0}},[s("u-text",{ref:"text_2W_8_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.String",t.genviewMatchExpression_0qzj6st1(e)),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])})],1),s("u-linear-layout",{ref:"linear_layout_2W_3",class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"auto","--cw-style-height":"63.98809814453125px","--cw-style-background-color":"#4e5969","--cw-style-padding-left":"12px","--cw-style-padding-right":"12px","--update-key":"ftsb",height:"63.98809814453125px",position:"fixed",left:"12px",bottom:"90px","background-color":"#d7dce3",width:"auto","padding-right":"12px","padding-left":"12px",right:"230px"},attrs:{direction:"vertical",mode:"flex",justify:"center",alignment:"center"}},[s("u-text",{ref:"text_kt_28",class:"cw-style-font-size cw-style-color",staticStyle:{"--cw-style-font-size":"20px","--cw-style-color":"#ffffff","font-size":"20px",color:"#040404"},attrs:{text:t.$utils["ToString"]("nasl.core.String",t.trayStatus)}})],1)],1),s("u-grid-layout-column",{ref:"grid_layout_column_2W_4",attrs:{span:5,wrap:!0}},[s("u-absolute-layout",{ref:"absolute_layout_2W_1",class:"cw-style-width cw-style-height",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px",height:"64px",width:"100%"}},[s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_14",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-bottom cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"64px","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-bottom":"0px","--cw-style-margin-right":"0px","--cw-style-font-size":"26px",height:"64px","--update-key":"328z","padding-top":"13px","font-size":"26px","margin-right":"0px",width:"64px","margin-bottom":"0px","min-width":"64px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"+"},on:{mouseup:function(e){return t.button_2W_14_click(e)}}}),s("u-number-input",{ref:"number_input_2W_1",class:"cw-style-width cw-style-height cw-style-text-align cw-style-margin-left cw-style-margin cw-style-margin-bottom cw-style-margin-top cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"auto","--cw-style-height":"auto","--cw-style-text-align":"center","--cw-style-margin-left":"0px","--cw-style-margin-bottom":"0px","--cw-style-margin-top":"0px","--cw-style-margin-right":"0px","--cw-style-font-size":"24px",height:"auto",width:"auto","--update-key":"jt5k","margin-bottom":"0px","margin-right":"0px","margin-left":"0px","margin-top":"0px","--constraint-x":"left-right","--constraint-y":"top-bottom",right:"65.078125px",left:"65px",top:"0px",bottom:"0px",transform:"none","--constraint-modified-x":"1","--constraint-modified-y":"1","font-size":"24px","text-align":"center"},attrs:{decimalPlacesOmitZero:!0,value:t.trayNum,hideButtons:!0,min:1,max:65536,keyboard:"true"},on:{"update:value":function(e){t.trayNum=e},focus:t.onNumberInputFocus}}),s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_15",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-bottom cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"64px","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-bottom":"0px","--cw-style-margin-right":"0px","--cw-style-font-size":"26px",height:"64px","--update-key":"5o09","padding-top":"13px","font-size":"26px","margin-right":"0px",width:"64px","margin-bottom":"0px","min-width":"64px","--constraint-x":"right","--constraint-y":"top",right:"0.015625px",left:"unset",top:"0px",bottom:"unset",transform:"none","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"-"},on:{mouseup:function(e){return t.button_2W_15_click(e)}}})],1),t.getBtnBool?t._e():s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_16",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"a1y3","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"8px","--custom-start":"auto",background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)"},attrs:{color:"primary",text:"提取托盘"}}),t.getBtnBool?s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_16",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"a1y3","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"8px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"提取托盘"},on:{mouseup:function(e){return t.button_2W_16_click(e)}}}):t._e(),t.btnBool?t._e():s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_17",class:"cw-style-width cw-style-height cw-style-padding-left cw-style-padding cw-style-padding-top cw-style-padding-right cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-left":"0px","--cw-style-padding-top":"13px","--cw-style-padding-right":"0px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ihx9","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"8px","padding-left":"0px","padding-right":"0px","--custom-start":"auto",background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)"},attrs:{color:"primary",text:"托盘库存"}}),t.btnBool&&t.hasPermission("TRAY_PICKING")?s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_17",class:"cw-style-width cw-style-height cw-style-padding-left cw-style-padding cw-style-padding-top cw-style-padding-right cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-left":"0px","--cw-style-padding-top":"13px","--cw-style-padding-right":"0px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ihx9","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"8px","padding-left":"0px","padding-right":"0px","--custom-start":"auto",background:"linear-gradient(180deg, #ffba4f 0%, #ff811c 100%)"},attrs:{color:"primary",text:"托盘库存"},on:{mouseup:function(e){return t.button_kt_13_click(e)}}}):t._e(),t.btnBool&&t.getTrayBack||!t.hasPermission("TRAY_PICKING")?t._e():s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],key:"button_2W_18",ref:"button_2W_18",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"8px","--custom-start":"auto",background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)"},attrs:{color:"primary",text:"退回托盘",disabled:!0}}),t.btnBool&&t.getTrayBack?s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],key:"button_Tz_1",ref:"button_Tz_1",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"8px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"退回托盘"},on:{mouseup:function(e){return t.button_Tz_1_click(e)}}}):t._e(),t.hasPermission("REAL_TIME_TRAY_LIST")?s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_16",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"a1y3","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"8px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"托盘列表"},on:{mouseup:function(e){return t.button_2W_16111_click(e)}}}):t._e()],1)],1)],1)],1),s("KeyboardDialog",{attrs:{input:t.trayNum,mode:"number"},on:{"update:input":function(e){t.trayNum=e}},model:{value:t.showKeyboardDialog,callback:function(e){t.showKeyboardDialog=e},expression:"showKeyboardDialog"}}),s("KeyboardDialog",{attrs:{input:t.testData},on:{"update:input":function(e){t.testData=e}},model:{value:t.showLetterKeyboardDialog,callback:function(e){t.showLetterKeyboardDialog=e},expression:"showLetterKeyboardDialog"}})],1)},i=[],r=(s("e9f5"),s("d866"),s("910d"),s("f665"),s("a732"),s("b7ef"),s("8617")),o=s("65b2"),n=s("2f62");let l=void 0;var c={mixins:[],data(){return{getTrayBack:!0,firstRowData:null,trayStatus:"无取货托盘",testData:"abc",tableScrollTop:0,pageSize:5,pageNumber:1,showKeyboardDialog:!1,showLetterKeyboardDialog:!1,trayNum:0,trayDtoList:this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto>",void 0),timerBool:!0,selectedTray:void 0,trayCodeList:this.$genInitFromSchema("nasl.collection.List<nasl.core.Long>",void 0),pageint:void 0,selectTray:this.$genInitFromSchema("app.structures.TrayDto",void 0),state1:void 0,state2:void 0,btnBool:!1,getBtnBool:!0,table_view_2W_1_state_page:void 0,"private-data-source-cache":new Map}},computed:{pageSizeOptions(){return[this.pageSize]},...Object(n["b"])(["getUserResource","getRouteData"]),userResource(){return this.getUserResource},routeData(){return this.getRouteData}},components:{KeyboardDialog:r["a"]},meta:{title:"提取托盘",crumb:void 0,crumbI18n:void 0,first:void 0,auth:void 0},mounted(){this.setPageSize(),window.addEventListener("resize",()=>{this.setPageSize()}),l=setInterval(()=>{this.gettable()},1e3)},beforeDestroy(){clearInterval(l),l=void 0},methods:{hasPermission(t){console.log(t,"routeKey");const e=this.routeData,s=e=>{const s=e.find(e=>e.name===t);return s?s.path:null},a=s(e);return console.log(a),console.log(this.userResource.includes(a)),this.userResource.includes(a)},setPageSize(){const t=window.innerHeight,e=t-300;this.pageSize=Math.floor(e/43)},async gettable(){console.log(this.$refs["table_view_2W_1"]);let t=this.$genInitFromSchema("apis.screenDev.structures.getAllResponseBody",void 0);if(t=await o["a"].get("/gw/screenDev/v1/sys/machine/getAll"),200==(t||{}).data.code)if(this.state1=0,this.state2=0,this.pageint=this.table_view_2W_1_state_page,await console["info"](this.$utils["ToString"]("nasl.core.String",this.$utils["ToString"]("nasl.core.String","页码----")+this.$utils["ToString"]("nasl.core.Long",this.pageint))),this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto>",this.$utils["Clear"](this.trayDtoList,"deep","nasl.collection.List<app.structures.TrayDto>")),await(this.$refs&&this.$refs["table_view_2W_1"]&&this.$refs["table_view_2W_1"].reload&&this.$refs["table_view_2W_1"].reload()),this.$genInitFromSchema("nasl.collection.List<nasl.core.Long>",this.$utils["Clear"](this.trayCodeList,"deep","nasl.collection.List<nasl.core.Long>")),this.trayDtoList=this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto>",this.$utils["Clone"](this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto>",await this.$utils["ListTransformAsync"]((t||{}).data.result,async t=>await(async()=>{const e=this.$genInitFromSchema("app.structures.TrayDto",this.$utils["New"]({concept:"TypeAnnotation",typeKind:"reference",typeNamespace:"app.structures",typeName:"TrayDto"}));return e.queueId=(t||{}).queueValue,e.state=(t||{}).statusValue,e.taskId=(t||{}).taskIdValue,e.taskCategory=(t||{}).taskType,e.trayCode=(t||{}).trayNumber,e})())))),(this.trayDtoList||{}).length>0?this.state1=(this.$genInitFromSchema("app.structures.TrayDto",this.$utils["Get"](this.trayDtoList,0))||{}).state:this.state1=0,(this.trayDtoList||{}).length>1?this.state2=(this.$genInitFromSchema("app.structures.TrayDto",this.$utils["Get"](this.trayDtoList,1))||{}).state:this.state2=0,5==this.state1||6==this.state1||5==this.state2||6==this.state2?this.btnBool=!0:this.btnBool=!1,await(this.$refs&&this.$refs["table_view_2W_1"]&&this.$refs["table_view_2W_1"].reload&&this.$refs["table_view_2W_1"].reload()),this.trayDtoList&&this.trayDtoList.length>0){this.firstRowData=this.trayDtoList[0];const t=this.genviewMatchExpression_0qzj6st111(Number(this.firstRowData.state));this.trayStatus=` ${this.firstRowData.trayCode}号托盘正在${t}`}else this.firstRowData=null,this.trayStatus="无取货托盘"},async manulTray_created(t){await(async()=>{this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto>",this.$utils["Clear"](this.trayDtoList,"deep","nasl.collection.List<app.structures.TrayDto>")),this.$global.frontendVariables.pageName="1.2.0 |  提取托盘";let t=window.localStorage.getItem("TrayOutBack");null!==t&&"true"===t.trim().toLowerCase()?this.getTrayBack=!1:this.getTrayBack=!0,this.trayNum=1,await this.gettable()})();let e=window.localStorage.getItem("testMode");null!==e&&"true"===e.trim().toLowerCase()?this.getBtnBool=!1:this.getBtnBool=!0},async manulTray_destroyed(t){await(async()=>{this.$global.frontendVariables.gettraytimeBool=!1,this.$global.frontendVariables.operatorBool=!1,this.$global.frontendVariables.trayBool=!1})()},async button_3_click(t){await(async()=>{await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].close&&this.$refs["modal_Manual"].close())})()},async button_4_click(t){await(async()=>{let t=this.$genInitFromSchema("apis.screenDev.structures.writePLCResponsetBody",void 0);return"A"===this.$global.frontendVariables.controlType?(t=await o["a"].post("/gw/screenDev/v1/sys/machine/process",{value:"1",tagName:"HMI_bAuto"}),void(200===(t||{}).data.code?(this.$global.frontendVariables.controlType="B",await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].close&&this.$refs["modal_Manual"].close())):await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！")))):"B"==this.$global.frontendVariables.controlType?(t=await o["a"].post("/gw/screenDev/v1/sys/machine/process",{value:"0",tagName:"HMI_bAuto"}),void(200===(t||{}).data.code?(this.$global.frontendVariables.controlType="A",await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].close&&this.$refs["modal_Manual"].close())):await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！")))):void 0})()},onPageChange(t){const{size:e,number:s}=t;this.pageSize=e,this.pageNumber=s},async table_view_2W_1_clickrow(t){await(async()=>{this.selectedTray=((t||{}).item||{}).trayCode,this.selectTray=this.$genInitFromSchema("app.structures.TrayDto",this.$utils["Clone"]((t||{}).item))})()},async button_2W_16_click(t){console.error("button_2W_16_click",1),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(async()=>{let t=this.$genInitFromSchema("apis.screenDev.structures.processQueueResponseBody",void 0);if(console.error("button_2W_16_click",2),console.error(this.$global.frontendVariables.controlType,"button_2W_16_click",2),"A"==this.$global.frontendVariables.controlType)return void await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].open&&this.$refs["modal_Manual"].open());if(console.error(this.$global.frontendVariables.controlType,"button_2W_16_click",3),this.trayNum<=0)return void await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请输入正确的托盘编码！"));if(this.$utils["Contains"](this.$genInitFromSchema("nasl.collection.List<nasl.core.Long>",await this.$utils["ListTransformAsync"](this.trayDtoList,t=>(t||{}).trayCode)),this.trayNum))return void await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","托盘编码已提取！"));const e="实时托盘 - 提取托盘",s=btoa(unescape(encodeURIComponent(e)));t=this.$genInitFromSchema("apis.screenDev.structures.processQueueResponseBody",await o["a"].post("/gw/screenDev/v1/sys/machine/processQueue",await(async()=>{const t=this.$genInitFromSchema("apis.screenDev.structures.processQueueRequestBody",this.$utils["New"]({concept:"TypeAnnotation",typeKind:"reference",typeNamespace:"apis.screenDev.structures",typeName:"processQueueRequestBody"}));return t.value=this.$utils["ToString"]("nasl.core.Long",this.trayNum),t})(),{headers:{"X-Operation-Name":s,Authorization:"Bearer "+localStorage.getItem("token")||!1}})),200==(t||{}).data.code?(await this.$toast.success(this.$utils["ToString"]("nasl.core.String","请求成功！")),await this.gettable(),this.$utils["Add"](this.trayCodeList,this.trayNum),await(async()=>{this.$nextTick(()=>{var t;const e=null===(t=this.$refs["table_view_c"])||void 0===t?void 0:t.$el;if(e){const t=e.closest(".el-table__body-wrapper");if(t){const s=e.querySelectorAll("tbody tr");for(const e of s){const s=e.cells[0];if(s&&s.textContent===this.trayNum){t.scrollTop=e.offsetTop;break}}}else console.error("Table container not found")}else console.error("Table element not found")})})()):await this.$toast.warning(t.message)},500)},async button_2W_17_click(t){await(async()=>{let t=this.$genInitFromSchema("apis.screenDev.structures.removeResponseBody",void 0);this.$utils["HasValue"]({type:"nasl.core.Long",value:this.selectedTray})?0==(this.selectTray||{}).state?(t=await o["a"].post("/gw/screenDev/v1/sys/machine/remove",{value:this.$utils["ToString"]("nasl.core.Long",this.selectedTray)}),200===(t||{}).data.code&&(await this.$toast.success(this.$utils["ToString"]("nasl.core.String","取消请求成功！")),l=setInterval(()=>{this.gettable()},1e3),this.$utils["Remove"](this.trayCodeList,this.selectedTray),this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto>",this.$utils["Clear"](this.trayDtoList,"deep","nasl.collection.List<app.structures.TrayDto>")))):await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","任务进行中，不可取消")):await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请选择托盘！"))})()},async button_2W_18_click(){},async button_kt_13_click(t){await(async()=>{this.$destination("/dashboard/trayPicking","_self")})()},async button_Tz_1_click(t){await(async()=>{let t=void 0,e=this.$genInitFromSchema("apis.screenDev.structures.writePLCResponsetBody",void 0);if(!this.$utils["HasValue"]({type:"nasl.collection.List<app.structures.TrayDto>",value:this.trayDtoList}))return;if(t=(this.$genInitFromSchema("app.structures.TrayDto",this.$utils["ListHead"](this.trayDtoList))||{}).taskCategory,"遥控"===localStorage.getItem("operateMode")){let t=this.trayDtoList.filter(t=>5===t.state||6===t.state),e=t.some(t=>0!==t.queueValue&&null!==t.queueValue);if(e)return void(this.localMachineFlag=!0)}const s="实时托盘 - 退回托盘",a=btoa(unescape(encodeURIComponent(s)));e=await o["a"].post("/gw/screenDev/v1/sys/machine/process",{value:"1",tagName:"getTray_withDrawTray"},{headers:{"X-Operation-Name":a}}),200===(e||{}).data.code&&(await this.$toast.success(this.$utils["ToString"]("nasl.core.String","请求成功！")),await this.gettable(),this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto>",this.$utils["Clear"](this.trayDtoList,"deep","nasl.collection.List<app.structures.TrayDto>")),this.$utils["Remove"](this.trayCodeList,t))})()},async button_1_click(){await(async()=>{await this.gettable()})()},onNumberInputFocus(){this.showKeyboardDialog=!0},onTestDataInputFocus(){this.showLetterKeyboardDialog=!0},async button_2W_14_click(t){await(async()=>{this.trayNum=this.$global.add(this.trayNum,1)})()},async button_2W_15_click(t){await(async()=>{this.trayNum>=1?this.trayNum=this.$global.minus(this.trayNum,1):this.trayNum=0})()},genviewMatchExpression_0ifknh20(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_16yc72a1(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_1813wbv0(t){return(()=>this.$global.isEqual(((t||{}).item||{}).taskCategory,1)?"取出托盘":this.$global.isEqual(((t||{}).item||{}).taskCategory,2)?"退回":this.$global.isEqual(((t||{}).item||{}).taskCategory,3)?"入新托盘":"")()},async button_2W_16111_click(t){await(async()=>{this.$destination("/dashboard/realTimeTrayList","_self")})()},genviewMatchExpression_0p72vya1(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_0qzj6st1(t){return(()=>this.$global.isEqual(((t||{}).item||{}).state,1)?"排队等待中":this.$global.isEqual(((t||{}).item||{}).state,2)?"执行中":this.$global.isEqual(((t||{}).item||{}).state,3)?"在缓存区1层":this.$global.isEqual(((t||{}).item||{}).state,4)?"在缓存区2层":this.$global.isEqual(((t||{}).item||{}).state,5)?"在捡取区1层":this.$global.isEqual(((t||{}).item||{}).state,6)?"在捡取区2层":this.$global.isEqual(((t||{}).item||{}).state,7)?"拣取完成":"请求")()},__isShallowEqualArray(t,e){return t.length===e.length&&t.every((t,s)=>{const a=e[s];return typeof t===typeof a&&("string"===typeof t?t===a:"object"===typeof t&&["item","index","rowIndex","columnIndex","value"].every(e=>t[e]===a[e]))})},__getDataSourceCacheFn(t,e=[]){if(!e.length)return this["private-data-source-cache"].get(t);for(let[s,a]of this["private-data-source-cache"].entries())if(this.__isShallowEqualArray(s,[t,...e]))return a},__setDataSourceCacheFn(t,e=[],s){e.length?this["private-data-source-cache"].set([t,...e],s):this["private-data-source-cache"].set(t,s)},__getOrCreateDataSource(t,e=[],s){let a=this.__getDataSourceCacheFn(t,e);return a||(a=s,this.__setDataSourceCacheFn(t,e,a)),a},genviewMatchExpression_0qzj6st111(t){switch(t){case 1:return"排队等待中";case 2:return"执行中";case 3:return"在缓存区1层";case 4:return"在缓存区2层";case 5:return"在捡取区1层";case 6:return"在捡取区2层";case 7:return"拣取完成";default:return"请求"}},onSync_State(t,e,s){this[`${t}_state_${e}`]=s}},async created(){await this.manulTray_created()},async destroyed(){await this.manulTray_destroyed()},watch:{firstRowData:{deep:!0,handler(t,e){if(t){const e=this.genviewMatchExpression_0qzj6st111(Number(t.state));console.log("99999"+e),console.log("66666"+this.firstRowData.state),this.trayStatus=` ${this.firstRowData.trayCode}号托盘正在${e}`}else this.trayStatus="无取货托盘"}}}},p=c,u=s("2877"),g=Object(u["a"])(p,a,i,!1,null,null,null);e["default"]=g.exports}}]);
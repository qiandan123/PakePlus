(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aba7457"],{"1fab":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"container",staticStyle:{"margin-top":"100px"}},[i("div",{staticClass:"header"}),i("div",{staticClass:"input-section"},[i("input",{directives:[{name:"longpress",rawName:"v-longpress"},{name:"model",rawName:"v-model",value:t.ipInput,expression:"ipInput"}],staticStyle:{"text-align":"center",height:"48px","font-size":"20px",width:"60%","background-color":"white"},attrs:{type:"text",placeholder:"请输入IP地址，例如 10.11.1.1"},domProps:{value:t.ipInput},on:{focus:t.onNumberInputFocus1,change:t.updataDisplayIp,input:function(e){e.target.composing||(t.ipInput=e.target.value)}}}),i("button",{staticStyle:{"text-align":"center",height:"48px","font-size":"20px",width:"19%","margin-top":"20px","margin-left":"1%"},attrs:{disabled:t.isCooldown},on:{touchstart:function(e){return e.preventDefault(),t.handleTouchStart(e)},touchend:function(e){return e.preventDefault(),t.handleTouchEnd(e)},touchcancel:function(e){return e.preventDefault(),t.handleTouchEnd(e)}}},[t._v(t._s(t.isCooldown?"操作冷却中...":"全亮"))]),i("div",{},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.valueInput,expression:"valueInput"},{name:"longpress",rawName:"v-longpress"}],staticStyle:{"text-align":"center",height:"48px","font-size":"20px","margin-top":"20px",width:"60%"},attrs:{type:"text",placeholder:"请输入文字内容"},domProps:{value:t.valueInput},on:{focus:t.onNumberInputFocus,input:function(e){e.target.composing||(t.valueInput=e.target.value)}}}),i("button",{staticStyle:{"text-align":"center",height:"48px","font-size":"20px",width:"19%","margin-left":"1%"},on:{mouseup:t.testIpConnection}},[t._v("测试连接")])])])]),i("KeyboardDialog",{attrs:{input:t.valueInput},on:{"update:input":function(e){t.valueInput=e}},model:{value:t.showKeyboardDialog,callback:function(e){t.showKeyboardDialog=e},expression:"showKeyboardDialog"}}),i("KeyboardDialog",{attrs:{input:t.ipInput},on:{"update:input":function(e){t.ipInput=e},input:t.updataDisplayIp},model:{value:t.showKeyboardDialog1,callback:function(e){t.showKeyboardDialog1=e},expression:"showKeyboardDialog1"}})],1)},s=[],n=(i("b7ef"),i("65b2")),r=i("8617"),a={components:{KeyboardDialog:r["a"]},data(){return{isHolding:!1,pressTimer:null,releaseTimer:null,showKeyboardDialog:!1,showKeyboardDialog1:!1,ipInput:"10.11.1.181",valueInput:"",trayHeight:"未设置",clickRecords:[],isButtonDisabled:!1,clickTimestamps:[],isCooldown:!1,cooldownTimer:null,touchCount:0,isFirstTouch:!0}},methods:{onNumberInputFocus(){this.showKeyboardDialog=!0},onNumberInputFocus1(){this.showKeyboardDialog1=!0},async testIpConnection(){const t="文字屏测试 - 测试连接",e=btoa(unescape(encodeURIComponent(t)));if(""==this.ipInput||null==this.ipInput)return void this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请输入IP地址！"));""!=this.valueInput&&null!=this.valueInput||(this.valueInput=this.ipInput);let i={ip:this.ipInput,value:this.valueInput};await n["a"].post("/gw/screenDev/v1/test/textTest",i,{headers:{"X-Operation-Name":e,Authorization:"Bearer "+localStorage.getItem("token")||!1}}).then(t=>{console.log(t),200===t.data.code?(console.log("发送成功"),this.$toast.success(this.$utils["ToString"]("nasl.core.String","发送成功！"))):this.$toast.error(this.$utils["ToString"]("nasl.core.String",t.data.message))})},async addPower(){const t="文字屏测试 - 操作冷却中/全亮",e=btoa(unescape(encodeURIComponent(t)));if(""==this.ipInput||null==this.ipInput)return void this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请输入IP地址！"));let i={ip:this.ipInput,value:"pos:00000;a:0;s:01;l:000;B231"};await n["a"].post("/gw/screenDev/v1/test/textTestAll",i,{headers:{"X-Operation-Name":e,Authorization:"Bearer "+localStorage.getItem("token")||!1}}).then(t=>{console.log(t),200===t.data.code?(console.log("发送成功"),this.$toast.success(this.$utils["ToString"]("nasl.core.String","发送成功！"))):this.$toast.error(this.$utils["ToString"]("nasl.core.String",t.data.message))})},async stopMachine(){const t="文字屏测试 - 测试连接",e=btoa(unescape(encodeURIComponent(t)));if(""==this.ipInput||null==this.ipInput)return void this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请输入IP地址！"));let i={ip:this.ipInput,value:"clearF244"};await n["a"].post("/gw/screenDev/v1/test/textTestAll",i,{headers:{"X-Operation-Name":e,Authorization:"Bearer "+localStorage.getItem("token")||!1}}).then(t=>{console.log(t),200===t.data.code?(console.log("发送成功"),this.$toast.success(this.$utils["ToString"]("nasl.core.String","发送成功！"))):this.$toast.error(this.$utils["ToString"]("nasl.core.String",t.data.message))})},async getDisplayIp(){await n["a"].get("/gw/screenDev/v1/test/getTextIp").then(t=>{200===t.data.code?this.ipInput=t.data.result.ip:this.ipInput="10.11.1.181"})},async updataDisplayIp(){""!=this.ipInput&&null!=this.ipInput?await n["a"].get("/gw/screenDev/v1/test/updataTextIp",{params:{ip:this.ipInput}}).then(t=>{console.log(t),200===t.data.code?this.$toast.success(this.$utils["ToString"]("nasl.core.String","发送成功！")):this.$toast.error(this.$utils["ToString"]("nasl.core.String",t.data.message))}):this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请输入IP地址！"))},handleTouchStart(t){this.touchCount=t.touches.length,this.isFirstTouch&&(this.isFirstTouch=!1,this.handlePress())},handleTouchEnd(t){this.touchCount=t.touches.length,0===this.touchCount&&(this.isFirstTouch=!0,this.handleRelease())},handlePress(){this.isCooldown||(this.checkClickFrequency(),this.isHolding=!0,this.isClick=!1,this.clickTimer&&clearTimeout(this.clickTimer),this.addPower(),this.pressTimer=setInterval(()=>{this.addPower()},300))},handleRelease(){this.isHolding&&(this.isHolding=!1,clearInterval(this.pressTimer),this.isClick?this.stopMachine():(this.isClick=!0,this.clickTimer=setTimeout(()=>{this.stopMachine(),this.isClick=!1},300)))},checkClickFrequency(){this.clickCount++,this.clickCount>=3&&this.activateCooldown(),setTimeout(()=>{this.clickCount--},1e3)},activateCooldown(){this.isCooldown=!0,this.$toast.warning("操作过于频繁，1秒后恢复"),clearInterval(this.pressTimer),clearTimeout(this.releaseTimer),clearTimeout(this.clickTimer),this.stopMachine(),this.cooldownTimer=setTimeout(()=>{this.isCooldown=!1,this.clickCount=0},1e3)},fetchTrayHeight(){const t=(Math.random()*(37.709-.068)+.068).toFixed(3);this.trayHeight=t},beforeDestroy(){clearTimeout(this.cooldownTimer)}},created(){this.fetchTrayHeight(),this.getDisplayIp()}},c=a,l=(i("f4eb"),i("2877")),u=Object(l["a"])(c,o,s,!1,null,"272cbbab",null);e["default"]=u.exports},b7ef:function(t,e,i){"use strict";var o=i("23e7"),s=i("cfe9"),n=i("d066"),r=i("5c6c"),a=i("9bf2").f,c=i("1a2d"),l=i("19aa"),u=i("7156"),h=i("e391"),p=i("cf98"),d=i("0d26"),g=i("83ab"),m=i("c430"),I="DOMException",E=n("Error"),T=n(I),R=function(){l(this,v);var t=arguments.length,e=h(t<1?void 0:arguments[0]),i=h(t<2?void 0:arguments[1],"Error"),o=new T(e,i),s=new E(e);return s.name=I,a(o,"stack",r(1,d(s.stack,1))),u(o,this,R),o},v=R.prototype=T.prototype,w="stack"in new E(I),D="stack"in new T(1,2),S=T&&g&&Object.getOwnPropertyDescriptor(s,I),f=!!S&&!(S.writable&&S.configurable),_=w&&!f&&!D;o({global:!0,constructor:!0,forced:m||_},{DOMException:_?R:T});var b=n(I),y=b.prototype;if(y.constructor!==b)for(var C in m||a(y,"constructor",r(1,b)),p)if(c(p,C)){var N=p[C],A=N.s;c(b,A)||a(b,A,r(6,N.c))}},cf98:function(t,e,i){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},d51c:function(t,e,i){},f4eb:function(t,e,i){"use strict";i("d51c")}}]);
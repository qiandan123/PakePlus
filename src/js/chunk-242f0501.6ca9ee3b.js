(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-242f0501"],{"271a":function(t,e,a){"use strict";var o=a("cb2d"),s=a("e330"),r=a("577e"),i=a("d6d6"),l=URLSearchParams,u=l.prototype,n=s(u.getAll),d=s(u.has),c=new l("a=1");!c.has("a",2)&&c.has("a",void 0)||o(u,"has",(function(t){var e=arguments.length,a=e<2?void 0:arguments[1];if(e&&void 0===a)return d(this,t);var o=n(this,t);i(e,1);var s=r(a),l=0;while(l<o.length)if(o[l++]===s)return!0;return!1}),{enumerable:!0,unsafe:!0})},"2f3b":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pallet-inventory-borrow-return"},[a("el-form",{ref:"form",staticClass:"form-wrap",attrs:{model:t.formData,"label-width":"200px"}},[a("div",{staticClass:"form-row"},[a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"货物",prop:"goodsCode"}},[a("el-input",{attrs:{placeholder:"请输入货物"},model:{value:t.formData.goodsCode,callback:function(e){t.$set(t.formData,"goodsCode",e)},expression:"formData.goodsCode"}})],1),a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{placeholder:"请输入描述"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1),a("div",{staticClass:"form-row"},[a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"申请者注意事项",prop:"thingsToNote"}},[a("el-input",{attrs:{placeholder:"请输入申请者注意事项"},model:{value:t.formData.thingsToNote,callback:function(e){t.$set(t.formData,"thingsToNote",e)},expression:"formData.thingsToNote"}})],1),a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"要求数量",prop:"requiredQuantity"}},[a("el-input",{attrs:{placeholder:"请输入要求数量"},model:{value:t.formData.requiredQuantity,callback:function(e){t.$set(t.formData,"requiredQuantity",e)},expression:"formData.requiredQuantity"}})],1)],1),a("div",{staticClass:"form-row"},[a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:t.sub1Text,prop:"sub1Value"}},[a("el-select",{attrs:{placeholder:"请输入子码1"},model:{value:t.formData.sub1Value,callback:function(e){t.$set(t.formData,"sub1Value",e)},expression:"formData.sub1Value"}},t._l(t.sub1List,(function(t){return a("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1),a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:t.sub2Text,prop:"sub2Value"}},[a("el-select",{attrs:{placeholder:"请输入子码2"},model:{value:t.formData.sub2Value,callback:function(e){t.$set(t.formData,"sub2Value",e)},expression:"formData.sub2Value"}},t._l(t.sub2List,(function(t){return a("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1)],1),a("div",{staticClass:"form-row"},[a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"物料状态",prop:"“goodsStatus”"}},[a("el-select",{attrs:{placeholder:"请输入物料状态"},model:{value:t.formData.goodsStatus,callback:function(e){t.$set(t.formData,"goodsStatus",e)},expression:"formData.goodsStatus"}},t._l(t.goodsStatusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1),a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"包装类别",prop:"packagingStatus"}},[a("el-select",{attrs:{placeholder:"请输入包装类别"},model:{value:t.formData.packagingStatus,callback:function(e){t.$set(t.formData,"packagingStatus",e)},expression:"formData.packagingStatus"}},t._l(t.packagingStatusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1)],1),a("div",{staticClass:"form-row"},["borrow"===t.type?a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"过期类别",prop:"“expiredCategory”"}},[a("el-select",{attrs:{placeholder:"请输入过期类别"},model:{value:t.formData.expiredCategory,callback:function(e){t.$set(t.formData,"expiredCategory",e)},expression:"formData.expiredCategory"}},[a("el-option",{attrs:{label:"未过期",value:"1"}}),a("el-option",{attrs:{label:"已过期",value:"2"}})],1)],1):t._e(),"return"===t.type?a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"到期日",prop:"dateOfExpiry"}},[a("el-date-picker",{attrs:{placeholder:"请选择到期日期"},model:{value:t.formData.dateOfExpiry,callback:function(e){t.$set(t.formData,"dateOfExpiry",e)},expression:"formData.dateOfExpiry"}})],1):t._e(),"return"===t.type?a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"退货类型",prop:"returnType"}},[a("el-select",{attrs:{placeholder:"请选择退货类型"},model:{value:t.formData.returnType,callback:function(e){t.$set(t.formData,"returnType",e)},expression:"formData.returnType"}},[a("el-option",{attrs:{label:"新材料",value:"1"}}),a("el-option",{attrs:{label:"旧材料",value:"2"}})],1)],1):t._e()],1),a("div",{staticClass:"form-row"},["return"===t.type?a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"生产日期及时间",prop:"“productionDate”"}},[a("el-date-picker",{attrs:{placeholder:"请选择生产日期",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss"},model:{value:t.formData.productionDate,callback:function(e){t.$set(t.formData,"productionDate",e)},expression:"formData.productionDate"}})],1):t._e()],1)]),a("div",{staticClass:"submit-btn"},[a("el-button",{directives:[{name:"longpress",rawName:"v-longpress"}],staticStyle:{width:"330px"},attrs:{type:"primary"},on:{click:function(e){"borrow"===t.type?t.goodsOut():t.goodsIn()}}},[t._v("确定")])],1)],1)},s=[],r=(a("e9f5"),a("ab43"),a("88a7"),a("271a"),a("5494"),a("65b2")),i={mixins:[],data(){return{sub1Text:"",sub2Text:"",sub1List:[],sub2List:[],formData:{},goodsStatusList:[],packagingStatusList:[],type:"","private-data-source-cache":new Map}},computed:{},meta:{title:"货物-借用/归还",crumb:void 0,crumbI18n:void 0,first:void 0,auth:void 0},methods:{async getUrlParameter(t){console.log("1234"),t=t.replace(/[$]/,"\\[").replace(/[$]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),a=e.exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},async goodsOut(){console.log("222222222222222222222222222");let t=await r["a"].get("/rest/goods/out",{params:{goodsCode:this.formData.goodsCode,userId:"fc1fbebd4f9a6262c0ba3fc1a7399ffa",sumTotal:this.formData.requiredQuantity,goodsStatus:void 0===this.formData.goodsStatus?null:this.formData.goodsStatus,packaging:void 0===this.formData.packagingStatus?null:this.formData.packagingStatus}});0===t.data.code?(this.$toast.success("出库成功"),this.$destination("/dashboard/toolsOrGoodsList","_self")):this.$toast.error("出库失败。错误原因为: "+t.data.message)},async goodsIn(){console.log("333333333333333333333333333333333");let t=await r["a"].get("/rest/goods/in",{params:{goodsCode:this.formData.goodsCode,userId:"fc1fbebd4f9a6262c0ba3fc1a7399ffa",sumTotal:this.formData.requiredQuantity,goodsStatus:void 0===this.formData.goodsStatus?null:this.formData.goodsStatus,packaging:void 0===this.formData.packagingStatus?null:this.formData.packagingStatus}});0===t.data.code?(this.$toast.success("入库成功"),this.$destination("/dashboard/toolsOrGoodsList","_self")):this.$toast.error("出库失败。错误原因为: "+t.data.message)}},async created(){const t=window.location.search||window.location.hash.split("?")[1]||"",e=new URLSearchParams(t);this.formData.goodsId=e.get("goodsId"),this.formData.goodsCode=e.get("goodsCode"),this.formData.description=e.get("description"),this.type=e.get("type");let a=await r["a"].get("/rest/goods/subCode/list",{params:{goodsCode:this.formData.goodsCode}});if(200===a.data.code){let t=a.data.result;this.sub1Text=(t.firSubcodeType,"子码1"),this.sub2Text=(t.secSubcodeType,"子码2"),this.sub1List=t.firSubcodeList.map(t=>({text:t.subCode,value:t.id})),this.sub2List=t.secSubcodeList.map(t=>({text:t.subCode,value:t.id}))}let o=await r["a"].get("rest/v2/api/dict/list/packaging_type");if(200===o.data.code){let t=o.data.result;this.packagingStatusList=t.map(t=>({text:t.itemText,value:t.itemValue}))}let s=await r["a"].get("rest/v2/api/dict/list/goods_status");if(200===s.data.code){let t=s.data.result;this.goodsStatusList=t.map(t=>({text:t.itemText,value:t.itemValue}))}else this.$toast.error(this.$utils["ToString"]("nasl.core.String",s.data.message)),this.loadingDialogVisible=!1}},l=i,u=(a("4325"),a("2877")),n=Object(u["a"])(l,o,s,!1,null,"11cb7ef2",null);e["default"]=n.exports},"38e4":function(t,e,a){},4325:function(t,e,a){"use strict";a("38e4")},5494:function(t,e,a){"use strict";var o=a("83ab"),s=a("e330"),r=a("edd0"),i=URLSearchParams.prototype,l=s(i.forEach);o&&!("size"in i)&&r(i,"size",{get:function(){var t=0;return l(this,(function(){t++})),t},configurable:!0,enumerable:!0})},"88a7":function(t,e,a){"use strict";var o=a("cb2d"),s=a("e330"),r=a("577e"),i=a("d6d6"),l=URLSearchParams,u=l.prototype,n=s(u.append),d=s(u["delete"]),c=s(u.forEach),p=s([].push),f=new l("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&o(u,"delete",(function(t){var e=arguments.length,a=e<2?void 0:arguments[1];if(e&&void 0===a)return d(this,t);var o=[];c(this,(function(t,e){p(o,{key:e,value:t})})),i(e,1);var s,l=r(t),u=r(a),f=0,m=0,g=!1,h=o.length;while(f<h)s=o[f++],g||s.key===l?(g=!0,d(this,s.key)):m++;while(m<h)s=o[m++],s.key===l&&s.value===u||n(this,s.key,s.value)}),{enumerable:!0,unsafe:!0})},d6d6:function(t,e,a){"use strict";var o=TypeError;t.exports=function(t,e){if(t<e)throw new o("Not enough arguments");return t}}}]);
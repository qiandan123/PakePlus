(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c93a7"],{"57f5":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("u-linear-layout",{ref:"uLinearLayout1",class:"cw-style-height",staticStyle:{"--cw-style-height":"100%",height:"100%","min-height":"2000px"},attrs:{type:"root",gap:"none"}},[i("u-router-view",{ref:"router_view1"}),i("u-linear-layout",{ref:"linear_layout_2W_1",class:"cw-style-margin-left cw-style-margin cw-style-margin-bottom cw-style-margin-top cw-style-margin-right",staticStyle:{"--cw-style-margin-left":"12px","--cw-style-margin-bottom":"8px","--cw-style-margin-top":"8px","--cw-style-margin-right":"12px","margin-top":"8px","--update-key":"jtyo","margin-bottom":"8px","margin-left":"12px","margin-right":"12px"},attrs:{direction:"horizontal",wrap:!0}},[i("u-table-view",{directives:[{name:"dependencies",rawName:"v-dependencies.reload",value:[],expression:"[]",modifiers:{reload:!0}}],key:"table_view_2W_1",ref:"table_view_2W_1",class:"cw-style-height cw-style-background-color cw-style-margin-bottom cw-style-margin",staticStyle:{"--cw-style-height":"69vh","--cw-style-background-color":"#4e5969","--cw-style-margin-bottom":"8px","background-color":"#4e5969","margin-bottom":"8px","--update-key":"wt64",height:"69vh","--table-view-td-padding":"0px 0px 0px 0px"},attrs:{"show-sizer":!1,pagination:!0,pageSize:20,pageNumber:1,dataSource:t.__table_view_2W_1_handleDataSourceLoad(),showJumper:!1,initialLoad:!0},on:{"sync:state":function(e,i){return t.onSync_State("table_view_2W_1",e,i)},"click-row":function(e){return t.table_view_2W_1_clickrow(e)}},scopedSlots:t._u([{key:"loading",fn:function(){},proxy:!0},{key:"error",fn:function(){},proxy:!0},{key:"empty",fn:function(){},proxy:!0},{key:"dragGhost",fn:function(t){}}])},[i("u-table-view-column",{key:"table_view_column_2W_2",ref:"table_view_column_2W_2",scopedSlots:t._u([{key:"expander",fn:function(t){return[i("u-table-view-expander",{ref:"table_view_expander_2W_2_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[i("u-text",{ref:"text_2W_2",attrs:{text:"托盘编号"}})]},proxy:!0},{key:"cell",fn:function(e){return[i("u-linear-layout",{ref:"linear_layout_Tz_3_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px",width:"100%",height:"100%","min-height":"43px","padding-left":"6px","--update-key":"oz46","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_1hn4bv31(e),"--cw-style-background-color":t.genviewMatchExpression_1hn4bv31(e)},attrs:{direction:"horizontal",wrap:!0}},[i("u-text",{ref:"text_2W_4_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.Long",((e||{}).item||{}).trayCode),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),i("u-table-view-column",{key:"table_view_column_2W_3",ref:"table_view_column_2W_3",scopedSlots:t._u([{key:"expander",fn:function(t){return[i("u-table-view-expander",{ref:"table_view_expander_2W_3_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[i("u-text",{ref:"text_2W_5",attrs:{text:"储存格编号"}})]},proxy:!0},{key:"cell",fn:function(e){return[i("u-linear-layout",{ref:"linear_layout_Tz_4_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px",width:"100%",height:"100%","min-height":"43px","padding-left":"6px","--update-key":"oz46","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_0qy43f60(e),"--cw-style-background-color":t.genviewMatchExpression_0qy43f60(e)},attrs:{direction:"horizontal",wrap:!0}},[i("u-text",{ref:"text_2W_6_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.Long",((e||{}).item||{}).storageCode),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),i("u-table-view-column",{key:"table_view_column_2W_1",ref:"table_view_column_2W_1",scopedSlots:t._u([{key:"expander",fn:function(t){return[i("u-table-view-expander",{ref:"table_view_expander_2W_1_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[i("u-text",{ref:"text_2W_1",attrs:{text:"高度"}})]},proxy:!0},{key:"cell",fn:function(e){return[i("u-linear-layout",{ref:"linear_layout_Tz_5_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px",width:"100%",height:"100%","min-height":"43px","padding-left":"6px","--update-key":"oz46","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_1rd0zeg0(e),"--cw-style-background-color":t.genviewMatchExpression_1rd0zeg0(e)},attrs:{direction:"horizontal",wrap:!0}},[i("u-text",{ref:"text_2W_3_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.Decimal",((e||{}).item||{}).height),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),i("u-table-view-column",{key:"table_view_column_2W_4",ref:"table_view_column_2W_4",scopedSlots:t._u([{key:"expander",fn:function(t){return[i("u-table-view-expander",{ref:"table_view_expander_2W_4_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[i("u-text",{ref:"text_2W_7",attrs:{text:"重量"}})]},proxy:!0},{key:"cell",fn:function(e){return[i("u-linear-layout",{ref:"linear_layout_Tz_6_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px",width:"100%",height:"100%","min-height":"43px","padding-left":"6px","--update-key":"oz46","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_17x9v231(e),"--cw-style-background-color":t.genviewMatchExpression_17x9v231(e)},attrs:{direction:"horizontal",wrap:!0}},[i("u-text",{ref:"text_2W_8_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.Decimal",((e||{}).item||{}).weight),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),i("u-table-view-column",{key:"table_view_column_2W_5",ref:"table_view_column_2W_5",scopedSlots:t._u([{key:"expander",fn:function(t){return[i("u-table-view-expander",{ref:"table_view_expander_2W_5_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[i("u-text",{ref:"text_2W_9",attrs:{text:"位置"}})]},proxy:!0},{key:"cell",fn:function(e){return[i("u-linear-layout",{ref:"linear_layout_Tz_7_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px",width:"100%",height:"100%","min-height":"43px","padding-left":"6px","--update-key":"oz46","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_1f5nvqg0(e),"--cw-style-background-color":t.genviewMatchExpression_1f5nvqg0(e)},attrs:{direction:"horizontal",wrap:!0}},[i("u-text",{ref:"text_2W_10_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.String",t.genviewMatchExpression_1ilkgam0(e)),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])})],1),i("u-linear-layout",{ref:"linear_layout_Tz_1",class:"cw-style-height",staticStyle:{"--cw-style-height":"64px",height:"64px"},attrs:{direction:"horizontal",wrap:!0,mode:"flex",justify:"space-between",alignment:"center"}},[i("u-linear-layout",{ref:"linear_layout_Tz_2",attrs:{direction:"horizontal",wrap:!0},on:{click:function(e){return t.linear_layout_Tz_2_click(e)}}},[i("u-text",{ref:"text_2W_11",class:"cw-style-font-size cw-style-color",staticStyle:{"--cw-style-font-size":"20px","--cw-style-color":"#ffffff",color:"#ffffff","font-size":"20px","--update-key":"hxq0"},attrs:{text:" "}})],1),i("u-button",{ref:"button_2W_17",class:"cw-style-width cw-style-height cw-style-padding-left cw-style-padding cw-style-padding-top cw-style-padding-right cw-style-font-size",staticStyle:{"--cw-style-width":"240px","--cw-style-height":"64px","--cw-style-padding-left":"12px","--cw-style-padding-top":"13px","--cw-style-padding-right":"12px","--cw-style-font-size":"26px",height:"64px","--update-key":"pqrs","padding-top":"13px","font-size":"26px",width:"240px","padding-left":"12px","padding-right":"12px","--custom-start":"auto"},attrs:{color:"primary",text:"提取托盘",disabled:t.isTest,widthStretch:"false"},on:{click:function(e){!t.isTest&&t.button_2W_17_click(e)}}})],1)],1)],1)},s=[],n=(i("e9f5"),i("d866"),i("a732"),i("65b2")),r=i("ed08"),o={mixins:[],data(){return{isTest:!1,trayDto1List:this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",void 0),checkboxBool:!1,selectedTray:void 0,total:void 0,table_view_2W_1_state_size:void 0,table_view_2W_1_state_page:void 0,"private-data-source-cache":new Map}},computed:{},meta:{title:"托盘列表",crumb:void 0,crumbI18n:void 0,first:void 0,auth:void 0},methods:{async gettable(){let t=void 0,e=this.$genInitFromSchema("apis.screenDev.structures.getTraysResponseBody",void 0),i=void 0,a=void 0,s=this.$genInitFromSchema("{list: nasl.collection.List<app.structures.TrayDto1>, total: nasl.core.Long}",void 0);return this.$utils["HasValue"]({type:"nasl.core.Long",value:this.table_view_2W_1_state_size})&&this.$utils["HasValue"]({type:"nasl.core.Long",value:this.table_view_2W_1_state_page})?(a=this.table_view_2W_1_state_page,i=this.table_view_2W_1_state_size,t=this.$global.minus(this.table_view_2W_1_state_page,1),t=this.$global.multiply(t,this.table_view_2W_1_state_size)):(t=0,i=20),e=this.$genInitFromSchema("apis.screenDev.structures.getTraysResponseBody",await n["a"].get("/gw/screenDev/v1/sys/machine/getTrays",{params:{size:i,start:t},headers:{Authorization:"Bearer "+localStorage.getItem("token")||!1}})),200!=(e||{}).data.code?s:this.$utils["HasValue"]({type:"nasl.collection.List<apis.screenDev.structures.result5>",value:(e||{}).data.result})?(this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",this.$utils["Clear"](this.trayDto1List,"deep","nasl.collection.List<app.structures.TrayDto1>")),this.trayDto1List=this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",this.$utils["Clone"](this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",await this.$utils["ListTransformAsync"]((e||{}).data.result,async t=>await(async()=>{const e=this.$genInitFromSchema("app.structures.TrayDto1",this.$utils["New"]({concept:"TypeAnnotation",typeKind:"reference",typeNamespace:"app.structures",typeName:"TrayDto1"}));return e.trayCode=this.$utils["FromString"]((t||{}).trayCode,"nasl.core.Long"),e.storageCode=this.$utils["FromString"]((t||{}).storageNumber,"nasl.core.Long"),e.height=this.$utils["FromString"]((t||{}).totalHight,"nasl.core.Long"),e.weight=this.$utils["FromString"]((t||{}).actualLoadCapacity,"nasl.core.Long"),e.location=(t||{}).trayLocation,e})())))),this.total=(this.trayDto1List||{}).length,s=this.$genInitFromSchema("{list: nasl.collection.List<app.structures.TrayDto1>, total: nasl.core.Long}",this.$utils["CreateListPage"](this.trayDto1List,this.total)),s):s},async gettotal(t){t=void 0===t?this.$route.query.hasOwnProperty("param1")?this.$genInitFromSchema("nasl.core.String",this.$route.query.param1):void 0:t;let e=this.$genInitFromSchema("apis.screenDev.structures.getByTagsResponseBody",void 0),i=void 0;return e=this.$genInitFromSchema("apis.screenDev.structures.getByTagsResponseBody",await n["a"].post("/gw/screenDev/v1/sys/machine/getByTags",[...await(async()=>{const t=[...void 0];return t})()],{headers:{Authorization:"Bearer "+localStorage.getItem("token")||!1}})),200!=(e||{}).data.code?i:this.$utils["HasValue"]({type:"nasl.collection.List<apis.screenDev.structures.result3>",value:(e||{}).result})?(i=this.$utils["FromString"]((this.$genInitFromSchema("apis.screenDev.structures.result3",this.$utils["ListHead"]((e||{}).result))||{}).plcValue,"nasl.core.Long"),i):(i=1800,i)},async trayList_created(t){await(async()=>{this.$global.frontendVariables.pageName="1.1.0 |  托盘列表";let t=window.localStorage.getItem("testMode");null!==t&&"true"===t.trim().toLowerCase()?this.isTest=!0:this.isTest=!1})()},async table_view_2W_1_clickrow(t){await(async()=>{this.selectedTray=((t||{}).item||{}).trayCode})()},async linear_layout_Tz_2_click(t){await(async()=>{this.checkboxBool?this.checkboxBool=!1:this.checkboxBool=!0})()},async button_2W_17_click(t){const e=Object(r["a"])(async()=>{let t=await n["a"].get("/gw/screenDev/v1/sys/machine/getAll");if(200===t.data.code){let e=t.data.result;console.log("taskList"),console.log(e);const i=e.some(t=>t.trayNumber===this.selectedTray);if(i)return void await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","已提取托盘！"))}let e=this.$genInitFromSchema("apis.screenDev.structures.processQueueResponseBody",void 0);this.$utils["HasValue"]({type:"nasl.core.Long",value:this.selectedTray})?(e=await n["a"].post("/gw/screenDev/v1/sys/machine/processQueue",{value:this.selectedTray}),200===(e||{}).data.code?(await this.$toast.success(this.$utils["ToString"]("nasl.core.String","请求成功！")),this.selectedTray=void 0):await this.$toast.warning(e.data.message)):await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请选择托盘！"))},1e3);await e()},genviewMatchExpression_1hn4bv31(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_0qy43f60(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_1rd0zeg0(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_17x9v231(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_1f5nvqg0(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_1ilkgam0(t){return(()=>this.$global.isEqual(((t||{}).item||{}).location,"1")?"前部":this.$global.isEqual(((t||{}).item||{}).location,"2")?"后部":"")()},__table_view_2W_1_handleDataSourceLoad(){return this.__getOrCreateDataSource("__table_view_2W_1_handleDataSourceLoad",[],async()=>this.$genInitFromSchema("{list: nasl.collection.List<app.structures.TrayDto1>, total: nasl.core.Long}",await this.gettable()))},__isShallowEqualArray(t,e){return t.length===e.length&&t.every((t,i)=>{const a=e[i];return typeof t===typeof a&&("string"===typeof t?t===a:"object"===typeof t&&["item","index","rowIndex","columnIndex","value"].every(e=>t[e]===a[e]))})},__getDataSourceCacheFn(t,e=[]){if(!e.length)return this["private-data-source-cache"].get(t);for(let[i,a]of this["private-data-source-cache"].entries())if(this.__isShallowEqualArray(i,[t,...e]))return a},__setDataSourceCacheFn(t,e=[],i){e.length?this["private-data-source-cache"].set([t,...e],i):this["private-data-source-cache"].set(t,i)},__getOrCreateDataSource(t,e=[],i){let a=this.__getDataSourceCacheFn(t,e);return a||(a=i,this.__setDataSourceCacheFn(t,e,a)),a},onSync_State(t,e,i){this[`${t}_state_${e}`]=i}},async created(){await this.trayList_created()}},l=o,c=i("2877"),d=Object(c["a"])(l,a,s,!1,null,null,null);e["default"]=d.exports}}]);
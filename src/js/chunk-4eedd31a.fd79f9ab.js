(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eedd31a"],{"177b":function(t,e,i){},"36cb":function(t,e,i){"use strict";i("177b")},5745:function(t,e,i){},"5efc":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("u-linear-layout",{ref:"uLinearLayout1",class:"cw-style-height",staticStyle:{"--cw-style-height":"100%",height:"100%","min-height":"2000px"},attrs:{type:"root",gap:"none"}},[i("u-router-view",{ref:"router_view1"}),i("u-linear-layout",{ref:"linear_layout_2W_1",class:"cw-style-margin-left cw-style-margin cw-style-margin-bottom cw-style-margin-top cw-style-margin-right",staticStyle:{"--cw-style-margin-left":"12px","--cw-style-margin-bottom":"8px","--cw-style-margin-top":"8px","--cw-style-margin-right":"12px","margin-top":"8px","--update-key":"jtyo","margin-bottom":"8px","margin-left":"12px","margin-right":"12px"},attrs:{direction:"horizontal",wrap:!0}},[i("u-table-view",{directives:[{name:"dependencies",rawName:"v-dependencies.reload",value:[],expression:"[]",modifiers:{reload:!0}}],key:"table_view_2W_1",ref:"table_view_2W_1",class:"cw-style-height cw-style-background-color cw-style-margin-bottom cw-style-margin",staticStyle:{"--cw-style-height":"69vh","--cw-style-background-color":"#4e5969","--cw-style-margin-bottom":"8px","background-color":"#4e5969","margin-bottom":"8px","--update-key":"wt64",height:"69vh","--table-view-td-padding":"0px 0px 0px 0px"},attrs:{pagination:!0,pageSize:20,pageNumber:1,dataSource:t.__table_view_2W_1_handleDataSourceLoad(),showSizer:!1,showJumper:!1,initialLoad:!0},on:{"sync:state":function(e,i){return t.onSync_State("table_view_2W_1",e,i)},"click-row":function(e){return t.table_view_2W_1_clickrow(e)}},scopedSlots:t._u([{key:"loading",fn:function(){},proxy:!0},{key:"error",fn:function(){},proxy:!0},{key:"empty",fn:function(){},proxy:!0},{key:"dragGhost",fn:function(t){}}])},[i("u-table-view-column",{key:"table_view_column_2W_2",ref:"table_view_column_2W_2",scopedSlots:t._u([{key:"expander",fn:function(t){return[i("u-table-view-expander",{ref:"table_view_expander_2W_2_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[i("u-text",{ref:"text_2W_2",attrs:{text:"托盘编号"}})]},proxy:!0},{key:"cell",fn:function(e){return[i("u-linear-layout",{ref:"linear_layout_Tz_3_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px",width:"100%",height:"100%","min-height":"43px","padding-left":"6px","--update-key":"oz46","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_1hn4bv31(e),"--cw-style-background-color":t.genviewMatchExpression_1hn4bv31(e)},attrs:{direction:"horizontal",wrap:!0}},[i("u-text",{ref:"text_2W_4_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.Long",((e||{}).item||{}).trayCode),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),i("u-table-view-column",{key:"table_view_column_2W_3",ref:"table_view_column_2W_3",scopedSlots:t._u([{key:"expander",fn:function(t){return[i("u-table-view-expander",{ref:"table_view_expander_2W_3_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[i("u-text",{ref:"text_2W_5",attrs:{text:"储存格编号"}})]},proxy:!0},{key:"cell",fn:function(e){return[i("u-linear-layout",{ref:"linear_layout_Tz_4_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px",width:"100%",height:"100%","min-height":"43px","padding-left":"6px","--update-key":"oz46","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_0qy43f60(e),"--cw-style-background-color":t.genviewMatchExpression_0qy43f60(e)},attrs:{direction:"horizontal",wrap:!0}},[i("u-text",{ref:"text_2W_6_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.Long",((e||{}).item||{}).storageCode),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),i("u-table-view-column",{key:"table_view_column_2W_1",ref:"table_view_column_2W_1",scopedSlots:t._u([{key:"expander",fn:function(t){return[i("u-table-view-expander",{ref:"table_view_expander_2W_1_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[i("u-text",{ref:"text_2W_1",attrs:{text:"高度"}})]},proxy:!0},{key:"cell",fn:function(e){return[i("u-linear-layout",{ref:"linear_layout_Tz_5_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px",width:"100%",height:"100%","min-height":"43px","padding-left":"6px","--update-key":"oz46","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_1rd0zeg0(e),"--cw-style-background-color":t.genviewMatchExpression_1rd0zeg0(e)},attrs:{direction:"horizontal",wrap:!0}},[i("u-text",{ref:"text_2W_3_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.Decimal",((e||{}).item||{}).height),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),i("u-table-view-column",{key:"table_view_column_2W_4",ref:"table_view_column_2W_4",scopedSlots:t._u([{key:"expander",fn:function(t){return[i("u-table-view-expander",{ref:"table_view_expander_2W_4_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[i("u-text",{ref:"text_2W_7",attrs:{text:"重量"}})]},proxy:!0},{key:"cell",fn:function(e){return[i("u-linear-layout",{ref:"linear_layout_Tz_6_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px",width:"100%",height:"100%","min-height":"43px","padding-left":"6px","--update-key":"oz46","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_17x9v231(e),"--cw-style-background-color":t.genviewMatchExpression_17x9v231(e)},attrs:{direction:"horizontal",wrap:!0}},[i("u-text",{ref:"text_2W_8_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.Decimal",((e||{}).item||{}).weight),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),i("u-table-view-column",{key:"table_view_column_2W_5",ref:"table_view_column_2W_5",scopedSlots:t._u([{key:"expander",fn:function(t){return[i("u-table-view-expander",{ref:"table_view_expander_2W_5_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[i("u-text",{ref:"text_2W_9",attrs:{text:"位置"}})]},proxy:!0},{key:"cell",fn:function(e){return[i("u-linear-layout",{ref:"linear_layout_Tz_7_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px",width:"100%",height:"100%","min-height":"43px","padding-left":"6px","--update-key":"oz46","padding-right":"10px"},style:{"background-color":t.genviewMatchExpression_1f5nvqg0(e),"--cw-style-background-color":t.genviewMatchExpression_1f5nvqg0(e)},attrs:{direction:"horizontal",wrap:!0}},[i("u-text",{ref:"text_2W_10_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.String",t.genviewMatchExpression_1ilkgam0(e)),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])})],1),i("u-linear-layout",{ref:"linear_layout_Tz_1",class:"cw-style-height",staticStyle:{"--cw-style-height":"64px",height:"64px"},attrs:{direction:"horizontal",wrap:!0,mode:"flex",justify:"space-between",alignment:"center"}},[i("u-linear-layout",{ref:"linear_layout_Tz_2",attrs:{direction:"horizontal",wrap:!0},on:{click:function(e){return t.linear_layout_Tz_2_click(e)}}},[t.checkboxBool?t._e():i("i-ico",{key:"ico_Tz_2",ref:"ico_Tz_2",class:"cw-style-margin-right cw-style-margin",staticStyle:{"--cw-style-margin-right":"5px","margin-right":"5px","--update-key":"zs6i"},attrs:{name:"/assets/checkbox-off.svg",icotype:"only"}},[i("u-text",{ref:"text_Tz_2",attrs:{text:"图标"}})],1),t.checkboxBool?i("i-ico",{key:"ico_Tz_3",ref:"ico_Tz_3",class:"cw-style-margin-right cw-style-margin",staticStyle:{"--cw-style-margin-right":"5px","margin-right":"5px","--update-key":"cxfr"},attrs:{name:"/assets/checkbox-on.svg",icotype:"only"}},[i("u-text",{ref:"text_Tz_3",attrs:{text:"图标"}})],1):t._e(),i("u-text",{ref:"text_2W_11",class:"cw-style-font-size cw-style-color",staticStyle:{"--cw-style-font-size":"20px","--cw-style-color":"#ffffff",color:"#ffffff","font-size":"20px","--update-key":"hxq0"},attrs:{text:"只有状态托盘称为当前出口"}})],1),i("u-button",{ref:"button_2W_17",class:"cw-style-width cw-style-height cw-style-padding-left cw-style-padding cw-style-padding-top cw-style-padding-right cw-style-font-size",staticStyle:{"--cw-style-width":"240px","--cw-style-height":"64px","--cw-style-padding-left":"12px","--cw-style-padding-top":"13px","--cw-style-padding-right":"12px","--cw-style-font-size":"26px",height:"64px","--update-key":"pqrs","padding-top":"13px","font-size":"26px",width:"240px","padding-left":"12px","padding-right":"12px","--custom-start":"auto"},attrs:{color:"primary",text:"提取托盘",disabled:t.isTest,widthStretch:"false"},on:{click:function(e){!t.isTest&&t.button_2W_17_click(e)}}})],1)],1),i("DeviceLoadingDialog",{attrs:{visible:t.loadingDialogVisible}})],1)},s=[],n=(i("e9f5"),i("d866"),i("7d54"),i("a732"),i("65b2")),l=i("69d3"),o=i("ed08"),r={components:{DeviceLoadingDialog:l["a"]},mixins:[],data(){return{loadingDialogVisible:!1,isTest:!1,trayDto1List:this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",void 0),checkboxBool:!1,selectedTray:void 0,total:void 0,table_view_2W_1_state_size:void 0,table_view_2W_1_state_page:void 0,"private-data-source-cache":new Map}},computed:{},meta:{title:"托盘列表",crumb:void 0,crumbI18n:void 0,first:void 0,auth:void 0},methods:{async gettable(){this.loadingDialogVisible=!0;let t=void 0,e=void 0,i=void 0,a=this.$genInitFromSchema("{list: nasl.collection.List<app.structures.TrayDto1>, total: nasl.core.Long}",void 0);this.$utils["HasValue"]({type:"nasl.core.Long",value:this.table_view_2W_1_state_size})&&this.$utils["HasValue"]({type:"nasl.core.Long",value:this.table_view_2W_1_state_page})?(i=this.table_view_2W_1_state_page,e=this.table_view_2W_1_state_size,t=this.$global.minus(this.table_view_2W_1_state_page,1),t=this.$global.multiply(t,this.table_view_2W_1_state_size)):(t=0,e=20);let s=await n["a"].get("/gw/screenDev/v1/sys/machine/getTrays?size="+e+"&start="+t);return 200!==(s||{}).data.code?(this.loadingDialogVisible=!1,a):this.$utils["HasValue"]({type:"nasl.collection.List<apis.screenDev.structures.result5>",value:(s||{}).data.result})?(this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",this.$utils["Clear"](this.trayDto1List,"deep","nasl.collection.List<app.structures.TrayDto1>")),this.trayDto1List=this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",this.$utils["Clone"](this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",await this.$utils["ListTransformAsync"]((s||{}).data.result,async t=>await(async()=>{const e=this.$genInitFromSchema("app.structures.TrayDto1",this.$utils["New"]({concept:"TypeAnnotation",typeKind:"reference",typeNamespace:"app.structures",typeName:"TrayDto1"}));return e.trayCode=this.$utils["FromString"]((t||{}).trayCode,"nasl.core.Long"),e.storageCode=this.$utils["FromString"]((t||{}).storageNumber,"nasl.core.Long"),e.height=this.$utils["FromString"]((t||{}).totalHight,"nasl.core.Long"),e.weight=this.$utils["FromString"]((t||{}).actualLoadCapacity,"nasl.core.Long"),e.location=(t||{}).trayLocation,e})())))),this.total=(this.trayDto1List||{}).length,a=this.$genInitFromSchema("{list: nasl.collection.List<app.structures.TrayDto1>, total: nasl.core.Long}",this.$utils["CreateListPage"](this.trayDto1List,this.total)),this.loadingDialogVisible=!1,a):(this.loadingDialogVisible=!1,a)},async trayList_created(t){await(async()=>{this.$global.frontendVariables.pageName="1.1.0 |  托盘列表";let t=window.localStorage.getItem("testMode");null!==t&&"true"===t.trim().toLowerCase()?this.isTest=!0:this.isTest=!1})()},async table_view_2W_1_clickrow(t){await(async()=>{this.selectedTray=((t||{}).item||{}).trayCode})()},async linear_layout_Tz_2_click(t){await(async()=>{this.checkboxBool?this.checkboxBool=!1:this.checkboxBool=!0})()},async button_2W_17_click(t){const e=Object(o["a"])(async()=>{let t=await n["a"].get("/gw/screenDev/v1/sys/machine/getAll");if(200===t.data.code){let e=t.data.result;console.log("taskList"),console.log(e);const i=e.some(t=>t.trayNumber===this.selectedTray);if(i)return void await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","已提取托盘！"))}let e=this.$genInitFromSchema("apis.screenDev.structures.processQueueResponseBody",void 0);this.$utils["HasValue"]({type:"nasl.core.Long",value:this.selectedTray})?(e=await n["a"].post("/gw/screenDev/v1/sys/machine/processQueue",{value:this.selectedTray}),200===(e||{}).data.code?(await this.$toast.success(this.$utils["ToString"]("nasl.core.String","请求成功！")),this.selectedTray=void 0):await this.$toast.warning(e.data.message)):await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请选择托盘！"))},1e3);await e()},genviewMatchExpression_1hn4bv31(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_0qy43f60(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_1rd0zeg0(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_17x9v231(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_1f5nvqg0(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_1ilkgam0(t){return(()=>this.$global.isEqual(((t||{}).item||{}).location,"1")?"前部":this.$global.isEqual(((t||{}).item||{}).location,"2")?"后部":t.item.location)()},__table_view_2W_1_handleDataSourceLoad(){return this.__getOrCreateDataSource("__table_view_2W_1_handleDataSourceLoad",[],async()=>{let t,e=await this.gettable(),i=await n["a"].get("/gw/screenDev/v1/sys/machine/getAll");if(200===i.data.code&&(t=i.data.result,0!==t.length)){const i=new Map;t.forEach(t=>{i.set(t.trayNumber,t.statusValue)}),e.list.forEach(t=>{i.has(t.trayCode)&&(t.location=this.statusEnum(i.get(t.trayCode)))})}return console.log(e),this.$genInitFromSchema("{list: nasl.collection.List<app.structures.TrayDto1>, total: nasl.core.Long}",e)})},statusEnum(t){return(()=>this.$global.isEqual(t,1)?"排队等待中":this.$global.isEqual(t,2)?"执行中":this.$global.isEqual(t,3)?"在缓存区1层":this.$global.isEqual(t,4)?"在缓存区2层":this.$global.isEqual(t,5)?"在拣取区1层":this.$global.isEqual(t,6)?"在拣取区2层":this.$global.isEqual(t,7)?"拣取完成":"请求")()},__isShallowEqualArray(t,e){return t.length===e.length&&t.every((t,i)=>{const a=e[i];return typeof t===typeof a&&("string"===typeof t?t===a:"object"===typeof t&&["item","index","rowIndex","columnIndex","value"].every(e=>t[e]===a[e]))})},__getDataSourceCacheFn(t,e=[]){if(!e.length)return this["private-data-source-cache"].get(t);for(let[i,a]of this["private-data-source-cache"].entries())if(this.__isShallowEqualArray(i,[t,...e]))return a},__setDataSourceCacheFn(t,e=[],i){e.length?this["private-data-source-cache"].set([t,...e],i):this["private-data-source-cache"].set(t,i)},__getOrCreateDataSource(t,e=[],i){let a=this.__getDataSourceCacheFn(t,e);return a||(a=i,this.__setDataSourceCacheFn(t,e,a)),a},onSync_State(t,e,i){this[`${t}_state_${e}`]=i}},async created(){await this.trayList_created()}},c=r,d=(i("9613"),i("2877")),u=Object(d["a"])(c,a,s,!1,null,"5a0e2fc6",null);e["default"]=u.exports},"601f":function(t,e,i){},"69d3":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{visible:t.dialogVisible,"custom-class":"device-loading-dialog","show-close":!1,width:"400px","append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"dialog-content"},[i("div",{staticClass:"loading-animation"},[i("img",{attrs:{src:t.loadingGif,alt:"loading"}})]),i("div",{staticClass:"status-text"},[i("span",{staticClass:"main-text"},[t._v(t._s(t.text.main))]),i("span",{staticClass:"sub-text"},[t._v(t._s(t.text.sub))])]),i("div",{staticClass:"action-buttons"},[i("el-button",{staticClass:"cancel-btn",style:t.buttonStyle,on:{click:t.handleCancel}},[t._v(" "+t._s(t.cancelText)+" ")])],1)])])],1)},s=[],n={name:"device-loading-dialog",props:{visible:Boolean,text:{type:Object,default:()=>({main:"读取中",sub:"读取中...请不要关闭弹窗"})},cancelText:{type:String,default:"取 消"}},data(){return{loadingGif:i("12ae"),buttonStyle:{background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)",color:"#ffffff",fontSize:"26px",borderRadius:"8px",width:"160px",height:"64px",border:"none"}}},computed:{dialogVisible:{get(){return this.visible},set(t){this.$emit("update:visible",t)}}},methods:{handleCancel(){this.$emit("cancel"),this.dialogVisible=!1}}},l=n,o=(i("36cb"),i("db74"),i("2877")),r=Object(o["a"])(l,a,s,!1,null,"e0e9b01e",null);e["a"]=r.exports},9613:function(t,e,i){"use strict";i("5745")},db74:function(t,e,i){"use strict";i("601f")}}]);
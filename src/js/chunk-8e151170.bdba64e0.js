(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e151170"],{"15e6":function(t,e,s){},"177b":function(t,e,s){},"1f9f":function(t,e,s){"use strict";s("15e6")},"36cb":function(t,e,s){"use strict";s("177b")},"601f":function(t,e,s){},"67c0":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("u-linear-layout",{ref:"uLinearLayout1",class:"cw-style-height",staticStyle:{"--cw-style-height":"100%",height:"100%","min-height":"768px"},attrs:{type:"root",gap:"none"}},[s("u-linear-layout",{ref:"linear_layout_2W_1",class:"cw-style-height cw-style-margin-left cw-style-margin cw-style-margin-bottom cw-style-margin-top cw-style-margin-right",staticStyle:{"--cw-style-height":"100%","--cw-style-margin-left":"12px","--cw-style-margin-bottom":"8px","--cw-style-margin-top":"8px","--cw-style-margin-right":"12px","margin-top":"8px","--update-key":"jtyo","margin-bottom":"8px","margin-left":"12px","margin-right":"12px",height:"100%"},attrs:{direction:"horizontal",mode:"block"}},[s("u-grid-layout",{ref:"grid_layout_2W_2",class:"cw-style-width",staticStyle:{"--cw-style-width":"100%",width:"100%"}},[s("u-grid-layout-row",{ref:"grid_layout_row_2W_2",class:"cw-style-width",staticStyle:{"--cw-style-width":"100%",width:"100%"},attrs:{repeat:24}},[s("u-grid-layout-column",{ref:"grid_layout_column_2W_4",staticStyle:{left:"5px"},attrs:{span:6,wrap:!0}},[t.btnTestBool?t._e():s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_17",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"18px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"关闭测试模式"},on:{mouseup:function(e){return t.button_2W_17_click(e)}}}),t.btnTestBool?s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_17",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"18px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"启用测试模式"},on:{mouseup:function(e){return t.button_2W_16_click(e)}}}):t._e(),s("u-absolute-layout",{ref:"absolute_layout_2W_1",class:"cw-style-width cw-style-height",staticStyle:{"margin-top":"20px","--cw-style-width":"100%","--cw-style-height":"64px",height:"64px",width:"100%"}},[s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_14",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-bottom cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"64px","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-bottom":"0px","--cw-style-margin-right":"0px","--cw-style-font-size":"26px",height:"64px","--update-key":"328z","padding-top":"13px","font-size":"26px","margin-right":"0px",width:"64px","margin-bottom":"0px","min-width":"64px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"+"},on:{mouseup:function(e){return t.button_2W_14_click(e)}}}),s("u-number-input",{ref:"number_input_2W_1",class:"cw-style-width cw-style-height cw-style-text-align cw-style-margin-left cw-style-margin cw-style-margin-bottom cw-style-margin-top cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"auto","--cw-style-height":"auto","--cw-style-text-align":"center","--cw-style-margin-left":"0px","--cw-style-margin-bottom":"0px","--cw-style-margin-top":"0px","--cw-style-margin-right":"0px","--cw-style-font-size":"24px",height:"auto",width:"auto","--update-key":"jt5k","margin-bottom":"0px","margin-right":"10px","margin-left":"10px","margin-top":"0px","--constraint-x":"left-right","--constraint-y":"top-bottom",right:"65.078125px",left:"65px",top:"0px",bottom:"0px",transform:"none","--constraint-modified-x":"1","--constraint-modified-y":"1","font-size":"24px","text-align":"center"},attrs:{decimalPlacesOmitZero:!0,value:t.trayNum,hideButtons:!0,min:1,max:65536},on:{"update:value":function(e){t.trayNum=e},focus:t.onNumberInputFocus}}),s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_2W_15",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-bottom cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"64px","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-bottom":"0px","--cw-style-margin-right":"0px","--cw-style-font-size":"26px",height:"64px","--update-key":"5o09","padding-top":"13px","font-size":"26px","margin-right":"0px",width:"64px","margin-bottom":"0px","min-width":"64px","--constraint-x":"right","--constraint-y":"top",right:"0.015625px",left:"unset",top:"0px",bottom:"unset",transform:"none","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"-"},on:{mouseup:function(e){return t.button_2W_15_click(e)}}})],1),t.btnBool?t._e():s("u-button",{class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"20px","--custom-start":"auto",background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)"},attrs:{color:"primary",text:"加入托盘",disabled:!0}}),t.btnBool?s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"20px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"加入托盘"},on:{mouseup:function(e){return t.button_add_click(e)}}}):t._e(),t.btnBool?t._e():s("u-button",{class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"20px","--custom-start":"auto",background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)"},attrs:{color:"primary",text:"加入所有托盘",disabled:!0}}),t.btnBool?s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"20px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"加入所有托盘"},on:{mouseup:function(e){return t.button_addAll_click(e)}}}):t._e(),t.btnBool?t._e():s("u-button",{class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"20px","--custom-start":"auto",background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)"},attrs:{color:"primary",text:"空列表",disabled:!0}}),t.btnBool?s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"20px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"空列表"},on:{mouseup:function(e){return t.button_clear_click(e)}}}):t._e(),s("div",{staticStyle:{width:"100%","margin-top":"10px"}},[s("div",{staticStyle:{"margin-top":"10px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedUpper,expression:"checkedUpper"}],staticStyle:{width:"32px",height:"32px","margin-top":"4px",float:"left"},attrs:{type:"checkbox",id:"upper"},domProps:{checked:Array.isArray(t.checkedUpper)?t._i(t.checkedUpper,null)>-1:t.checkedUpper},on:{change:function(e){var s=t.checkedUpper,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i.checked?r<0&&(t.checkedUpper=s.concat([o])):r>-1&&(t.checkedUpper=s.slice(0,r).concat(s.slice(r+1)))}else t.checkedUpper=a}}}),s("label",{staticStyle:{width:"32px",height:"32px","font-size":"24px","margin-left":"10px",color:"white"}},[t._v("使用上部转输位置")])]),s("div",{staticStyle:{"margin-top":"10px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedLower,expression:"checkedLower"}],staticStyle:{width:"32px",height:"32px","margin-top":"4px",float:"left"},attrs:{type:"checkbox",id:"lower"},domProps:{checked:Array.isArray(t.checkedLower)?t._i(t.checkedLower,null)>-1:t.checkedLower},on:{change:function(e){var s=t.checkedLower,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i.checked?r<0&&(t.checkedLower=s.concat([o])):r>-1&&(t.checkedLower=s.slice(0,r).concat(s.slice(r+1)))}else t.checkedLower=a}}}),s("label",{staticStyle:{width:"32px",height:"32px","font-size":"24px","margin-left":"10px",color:"white"}},[t._v("使用下部转输位置")])])]),t.startBtnBool1&&!t.startBtnBool?s("u-button",{class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"10px","--custom-start":"auto",background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)"},attrs:{color:"primary",text:"开始测试"}}):t._e(),t.startBtnBool||t.startBtnBool1?t._e():s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"10px","--custom-start":"auto"},style:"background:red",attrs:{color:"primary",text:"停止测试"},on:{mouseup:function(e){return t.button_Tz_2_click(e)}}}),t.startBtnBool&&!t.startBtnBool1?s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-top cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-margin-top":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"64px","--update-key":"ssej","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"100%","margin-top":"10px","--custom-start":"auto"},attrs:{color:"primary",text:"开始测试",disabled:t.stopProcessLoading},on:{mouseup:function(e){!t.stopProcessLoading&&t.button_Tz_1_click(e)}}}):t._e()],1),s("u-grid-layout-column",{ref:"grid_layout_column_2W_5",class:"cw-style-padding-right cw-style-padding",staticStyle:{"--cw-style-padding-right":"8px","padding-right":"8px","--update-key":"sx9z",left:"20px","margin-top":"20px"},attrs:{span:18,wrap:!0}},[s("u-table-view",{directives:[{name:"dependencies",rawName:"v-dependencies.reload",value:[],expression:"[]",modifiers:{reload:!0}}],key:"table_view_2W_1",ref:"table_view_2W_1",class:"cw-style-height cw-style-background-color",staticStyle:{"--cw-style-height":"61vh","--cw-style-background-color":"#4e5969","background-color":"#4e5969","--table-view-td-padding":"0px 0px 0px 0px",height:"61vh"},attrs:{dataSource:t.trayDtoList,pagination:!0,pageSize:t.pageSize,pageNumber:t.pageNumber,"page-size-options":t.pageSizeOptions,"show-sizer":!1,rowStyle:function(e){return t.changeRowColor(e)}},on:{page:t.onPageChange},scopedSlots:t._u([{key:"loading",fn:function(){},proxy:!0},{key:"error",fn:function(){},proxy:!0},{key:"empty",fn:function(){},proxy:!0},{key:"dragGhost",fn:function(t){}}])},[s("u-table-view-column",{key:"table_view_column_2W_2",ref:"table_view_column_2W_2",scopedSlots:t._u([{key:"expander",fn:function(t){return[s("u-table-view-expander",{ref:"table_view_expander_2W_2_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[s("u-text",{ref:"text_2W_2",attrs:{text:"托盘编号"}})]},proxy:!0},{key:"cell",fn:function(e){return[s("u-linear-layout",{key:e.item.trayCode,ref:"linear_layout_Tz_1_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-padding-left":"6px","--cw-style-padding-right":"10px","--update-key":"ehcj","padding-left":"6px","padding-right":"10px"},attrs:{id:"row-"+e.item.trayCode,direction:"horizontal",wrap:!0}},[s("u-text",{ref:"text_2W_4_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.Long",((e||{}).item||{}).trayCode),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),s("u-table-view-column",{key:"table_view_column_2W_3",ref:"table_view_column_2W_3",scopedSlots:t._u([{key:"expander",fn:function(t){return[s("u-table-view-expander",{ref:"table_view_expander_2W_3_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[s("u-text",{ref:"text_2W_5",attrs:{text:"储存格"}})]},proxy:!0},{key:"cell",fn:function(e){return[s("u-linear-layout",{ref:"linear_layout_Tz_2_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-width cw-style-height cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-width":"100%","--cw-style-height":"100%","--cw-style-padding-left":"6px","--cw-style-padding-right":"10px","padding-left":"6px","--update-key":"w6k6","padding-right":"10px",width:"100%",height:"100%","min-height":"43px"},attrs:{direction:"horizontal",wrap:!0}},[s("u-text",{ref:"text_2W_6_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.String",((e||{}).item||{}).storageCode),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])}),s("u-table-view-column",{key:"table_view_column_2W_4",ref:"table_view_column_2W_4",scopedSlots:t._u([{key:"expander",fn:function(t){return[s("u-table-view-expander",{ref:"table_view_expander_2W_4_"+((t||{}).__nodeKey||(t||{}).index),attrs:{item:(t||{}).item}})]}},{key:"title",fn:function(){return[s("u-text",{ref:"text_2W_7",attrs:{text:"状态"}})]},proxy:!0},{key:"cell",fn:function(e){return[s("u-linear-layout",{ref:"linear_layout_Tz_3_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-background-color cw-style-padding-left cw-style-padding cw-style-padding-right",staticStyle:{"--cw-style-padding-left":"6px","--cw-style-padding-right":"10px","padding-left":"6px","--update-key":"6zo2","padding-right":"10px"},attrs:{direction:"horizontal",wrap:!0}},[s("u-text",{ref:"text_2W_8_"+((e||{}).__nodeKey||(e||{}).index),class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"20px","font-size":"20px"},attrs:{text:t.$utils["ToString"]("nasl.core.String",t.genviewMatchExpression_0qzj6st1(e)),overflow:"break"}})],1)]}},{key:"editcell",fn:function(t){}},{key:"expand-content",fn:function(t){}}])})],1),s("div",{staticStyle:{width:"280px",height:"46px",float:"left"}},[s("div",{staticStyle:{float:"left",width:"160px",height:"40px","margin-top":"16px","text-align":"center",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"}},[s("label",{staticStyle:{"font-size":"20px",color:"white","text-align":"center"}},[t._v("循环数")])]),s("div",{staticStyle:{float:"right",width:"120px",height:"40px","margin-top":"16px","text-align":"center",background:"#4e5969"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticStyle:{"font-size":"20px",color:"white","text-align":"center",width:"120px",height:"40px"},attrs:{type:"text",disabled:""},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}})])]),s("div",{staticStyle:{"margin-left":"20px",width:"280px",height:"46px",float:"left"}},[s("div",{staticStyle:{float:"left",width:"160px",height:"40px","margin-top":"16px","text-align":"center",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"}},[s("label",{staticStyle:{"font-size":"20px",color:"white"}},[t._v("测试状态")])]),s("div",{staticStyle:{float:"right",width:"120px",height:"40px","margin-top":"16px","text-align":"center",background:"#4e5969"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticStyle:{"font-size":"20px",color:"white","text-align":"center",width:"120px",height:"40px"},attrs:{type:"text",disabled:""},domProps:{value:t.status},on:{input:function(e){e.target.composing||(t.status=e.target.value)}}})])]),s("div",{staticStyle:{width:"280px",height:"46px",float:"left"}},[s("div",{staticStyle:{float:"left",width:"160px",height:"40px","margin-top":"16px","text-align":"center",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"}},[s("label",{staticStyle:{"font-size":"20px",color:"white","text-align":"center"}},[t._v("运行时间")])]),s("div",{staticStyle:{float:"right",width:"120px",height:"40px","margin-top":"16px","text-align":"center",background:"#4e5969"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.min,expression:"min"}],key:t.min,staticStyle:{"font-size":"20px",color:"white","text-align":"center",width:"120px",height:"40px"},attrs:{type:"text",disabled:""},domProps:{value:t.min},on:{input:function(e){e.target.composing||(t.min=e.target.value)}}})])]),s("div",{staticStyle:{"margin-left":"20px",width:"280px",height:"46px",float:"left"}},[s("div",{staticStyle:{float:"left",width:"160px",height:"40px","margin-top":"16px","text-align":"center",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"}},[s("label",{staticStyle:{"font-size":"20px",color:"white"}},[t._v("周期-秒")])]),s("div",{staticStyle:{float:"right",width:"120px",height:"40px","margin-top":"16px","text-align":"center",background:"#4e5969"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.cycle,expression:"cycle"}],staticStyle:{"font-size":"20px",color:"white","text-align":"center",width:"120px",height:"40px"},attrs:{type:"text",disabled:""},domProps:{value:t.cycle},on:{input:function(e){e.target.composing||(t.cycle=e.target.value)}}})])]),s("div",{staticStyle:{"margin-right":"130px","margin-top":"-30px",width:"30px",height:"48px",float:"right"}},[s("el-button",{directives:[{name:"longpress",rawName:"v-longpress"}],staticClass:"custom-btn",staticStyle:{float:"left",width:"148px",height:"48px","margin-top":"16px","padding-top":"5px","text-align":"center"},attrs:{disabled:!t.btnTestBool},on:{click:function(e){return t.reStartCount(e)}}},[s("label",{staticStyle:{"font-size":"24px",color:"white"}},[t._v("重启计数器")])])],1)],1)],1)],1)],1),s("u-modal",{ref:"modal_Manual",class:"cw-style-height",staticStyle:{"--cw-style-height":"400px","--modal-dialog-background-color":"#4e5969","--modal-body-margin":"0",height:"400px","--modal-close-right":"12px","--modal-foot-padding":"0px 0px","--modal-dialog-width":"400px","--modal-close-color":"#ffffff","--modal-border-color":"#4e5969"},attrs:{size:"auto","is-foot-slot-empty":!0},scopedSlots:t._u([{key:"foot",fn:function(){},proxy:!0},{key:"body",fn:function(){return[s("u-linear-layout",{ref:"linear_layout_35",class:"cw-style-width cw-style-height cw-style-text-align cw-style-border-style cw-style-border-color cw-style-border-left-width cw-style-border-width cw-style-border-right-width cw-style-border-top-width cw-style-border-bottom-width",staticStyle:{"--cw-style-width":"512px","--cw-style-height":"267px","--cw-style-text-align":"center","--cw-style-border-style":"solid","--cw-style-border-color":"#ffffff","--cw-style-border-left-width":"0px","--cw-style-border-right-width":"0px","--cw-style-border-top-width":"1px","--cw-style-border-bottom-width":"0px",width:"512px","text-align":"center",height:"267px","border-color":"#ffffff","border-top-width":"1px","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-style":"solid","--update-key":"cnuj"},attrs:{direction:"horizontal",wrap:!0,mode:"flex",justify:"center",alignment:"center"}},[s("i-ico",{ref:"ico_51",class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"48px","font-size":"48px"},attrs:{name:"/assets/%E5%88%A0%E9%99%A4.svg"}},["B"==t.$global.frontendVariables.controlType?s("u-text",{key:"text_64",ref:"text_64",class:"cw-style-font-size cw-style-color",staticStyle:{"--cw-style-font-size":"20px","--cw-style-color":"#ffffff",color:"#ffffff","font-size":"20px"},attrs:{text:"确定要切换到手动？",display:"block"}}):t._e(),"A"==t.$global.frontendVariables.controlType?s("u-text",{key:"text_65",ref:"text_65",class:"cw-style-font-size cw-style-color",staticStyle:{"--cw-style-font-size":"20px","--cw-style-color":"#ffffff",color:"#ffffff","font-size":"20px"},attrs:{text:"确定要切换到自动？",display:"block"}}):t._e()],1)],1),s("u-linear-layout",{ref:"linear_layout_36",class:"cw-style-border-style cw-style-border-left-width cw-style-border-width cw-style-border-right-width cw-style-border-top-width cw-style-border-bottom-width",staticStyle:{"--cw-style-border-style":"solid","--cw-style-border-left-width":"0px","--cw-style-border-right-width":"0px","--cw-style-border-top-width":"0px","--cw-style-border-bottom-width":"0px","--space-base":"0px","border-top-width":"0px","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-style":"solid","--update-key":"9309"},attrs:{gap:"normal",mode:"flex",justify:"center",alignment:"center"}},[s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_3",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-bottom cw-style-margin cw-style-font-size cw-style-border-top-left-radius cw-style-border-radius cw-style-border-top-right-radius cw-style-border-bottom-left-radius cw-style-border-bottom-right-radius",staticStyle:{"--cw-style-width":"160px","--cw-style-height":"64px","--cw-style-padding-top":"12px","--cw-style-margin-bottom":"12px","--cw-style-font-size":"26px","--cw-style-border-top-left-radius":"8px","--cw-style-border-top-right-radius":"8px","--cw-style-border-bottom-left-radius":"8px","--cw-style-border-bottom-right-radius":"8px","--update-key":"up7c","margin-bottom":"12px",width:"160px",height:"64px",position:"static","font-size":"26px","padding-top":"12px","border-top-left-radius":"8px","border-top-right-radius":"8px","border-bottom-right-radius":"8px","border-bottom-left-radius":"8px","--custom-start":"auto",background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)"},attrs:{text:"取 消",widthStretch:"false",heightStretch:"false",color:"primary_secondary"},on:{mouseup:function(e){return t.button_3_click(e)}}}),s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_4",class:"cw-style-width cw-style-height cw-style-padding-left cw-style-padding cw-style-padding-top cw-style-padding-right cw-style-margin-left cw-style-margin cw-style-margin-bottom cw-style-font-size cw-style-border-top-left-radius cw-style-border-radius cw-style-border-top-right-radius cw-style-border-bottom-left-radius cw-style-border-bottom-right-radius",staticStyle:{"--cw-style-width":"160px","--cw-style-height":"64px","--cw-style-padding-left":"0px","--cw-style-padding-top":"12px","--cw-style-padding-right":"0px","--cw-style-margin-left":"8px","--cw-style-margin-bottom":"12px","--cw-style-font-size":"26px","--cw-style-border-top-left-radius":"8px","--cw-style-border-top-right-radius":"8px","--cw-style-border-bottom-left-radius":"8px","--cw-style-border-bottom-right-radius":"8px","--update-key":"t89u","margin-left":"8px","margin-bottom":"12px","padding-left":"0px","padding-right":"0px",width:"160px",height:"64px","font-size":"26px","padding-top":"12px","border-top-left-radius":"8px","border-top-right-radius":"8px","border-bottom-right-radius":"8px","border-bottom-left-radius":"8px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"确定",display:"inline",widthStretch:"false",heightStretch:"false"},on:{mouseup:function(e){return t.button_4_click(e)}}})],1)]},proxy:!0},{key:"title",fn:function(){return[s("u-text",{ref:"text_62",class:"cw-style-font-size cw-style-color",staticStyle:{"--cw-style-font-size":"22px","--cw-style-color":"#ffffff",color:"#ffffff","font-size":"22px"},attrs:{text:"确定"}})]},proxy:!0}])}),s("KeyboardDialog",{attrs:{input:t.trayNum,mode:"number"},on:{"update:input":function(e){t.trayNum=e}},model:{value:t.showKeyboardDialog,callback:function(e){t.showKeyboardDialog=e},expression:"showKeyboardDialog"}}),s("u-modal",{ref:"modal_Running",class:"cw-style-height",staticStyle:{"--cw-style-height":"400px","--modal-dialog-background-color":"#4e5969","--modal-body-margin":"0",height:"400px","--modal-close-right":"12px","--modal-foot-padding":"0px 0px","--modal-dialog-width":"400px","--modal-close-color":"#ffffff","--modal-border-color":"#4e5969"},attrs:{size:"auto","is-foot-slot-empty":!0},scopedSlots:t._u([{key:"foot",fn:function(){},proxy:!0},{key:"body",fn:function(){return[s("u-linear-layout",{ref:"linear_layout_35",class:"cw-style-width cw-style-height cw-style-text-align cw-style-border-style cw-style-border-color cw-style-border-left-width cw-style-border-width cw-style-border-right-width cw-style-border-top-width cw-style-border-bottom-width",staticStyle:{"--cw-style-width":"512px","--cw-style-height":"267px","--cw-style-text-align":"center","--cw-style-border-style":"solid","--cw-style-border-color":"#ffffff","--cw-style-border-left-width":"0px","--cw-style-border-right-width":"0px","--cw-style-border-top-width":"1px","--cw-style-border-bottom-width":"0px",width:"512px","text-align":"center",height:"267px","border-color":"#ffffff","border-top-width":"1px","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-style":"solid","--update-key":"cnuj"},attrs:{direction:"horizontal",wrap:!0,mode:"flex",justify:"center",alignment:"center"}},[s("i-ico",{ref:"ico_51",class:"cw-style-font-size",staticStyle:{"--cw-style-font-size":"48px","font-size":"48px"},attrs:{name:"/assets/%E5%88%A0%E9%99%A4.svg"}},["B"==t.$global.frontendVariables.controlType?s("u-text",{key:"text_64",ref:"text_64",class:"cw-style-font-size cw-style-color",staticStyle:{"--cw-style-font-size":"20px","--cw-style-color":"#ffffff",color:"#ffffff","font-size":"20px"},attrs:{text:"确定要切换到手动？",display:"block"}}):t._e(),"A"==t.$global.frontendVariables.controlType?s("u-text",{key:"text_65",ref:"text_65",class:"cw-style-font-size cw-style-color",staticStyle:{"--cw-style-font-size":"20px","--cw-style-color":"#ffffff",color:"#ffffff","font-size":"20px"},attrs:{text:"确定要切换到自动？",display:"block"}}):t._e()],1)],1),s("u-linear-layout",{ref:"linear_layout_36",class:"cw-style-border-style cw-style-border-left-width cw-style-border-width cw-style-border-right-width cw-style-border-top-width cw-style-border-bottom-width",staticStyle:{"--cw-style-border-style":"solid","--cw-style-border-left-width":"0px","--cw-style-border-right-width":"0px","--cw-style-border-top-width":"0px","--cw-style-border-bottom-width":"0px","--space-base":"0px","border-top-width":"0px","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-style":"solid","--update-key":"9309"},attrs:{gap:"normal",mode:"flex",justify:"center",alignment:"center"}},[s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_3",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-bottom cw-style-margin cw-style-font-size cw-style-border-top-left-radius cw-style-border-radius cw-style-border-top-right-radius cw-style-border-bottom-left-radius cw-style-border-bottom-right-radius",staticStyle:{"--cw-style-width":"160px","--cw-style-height":"64px","--cw-style-padding-top":"12px","--cw-style-margin-bottom":"12px","--cw-style-font-size":"26px","--cw-style-border-top-left-radius":"8px","--cw-style-border-top-right-radius":"8px","--cw-style-border-bottom-left-radius":"8px","--cw-style-border-bottom-right-radius":"8px","--update-key":"up7c","margin-bottom":"12px",width:"160px",height:"64px",position:"static","font-size":"26px","padding-top":"12px","border-top-left-radius":"8px","border-top-right-radius":"8px","border-bottom-right-radius":"8px","border-bottom-left-radius":"8px","--custom-start":"auto",background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)"},attrs:{text:"取 消",widthStretch:"false",heightStretch:"false",color:"primary_secondary"},on:{mouseup:function(e){return t.openDialog(e)}}}),s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_4",class:"cw-style-width cw-style-height cw-style-padding-left cw-style-padding cw-style-padding-top cw-style-padding-right cw-style-margin-left cw-style-margin cw-style-margin-bottom cw-style-font-size cw-style-border-top-left-radius cw-style-border-radius cw-style-border-top-right-radius cw-style-border-bottom-left-radius cw-style-border-bottom-right-radius",staticStyle:{"--cw-style-width":"160px","--cw-style-height":"64px","--cw-style-padding-left":"0px","--cw-style-padding-top":"12px","--cw-style-padding-right":"0px","--cw-style-margin-left":"8px","--cw-style-margin-bottom":"12px","--cw-style-font-size":"26px","--cw-style-border-top-left-radius":"8px","--cw-style-border-top-right-radius":"8px","--cw-style-border-bottom-left-radius":"8px","--cw-style-border-bottom-right-radius":"8px","--update-key":"t89u","margin-left":"8px","margin-bottom":"12px","padding-left":"0px","padding-right":"0px",width:"160px",height:"64px","font-size":"26px","padding-top":"12px","border-top-left-radius":"8px","border-top-right-radius":"8px","border-bottom-right-radius":"8px","border-bottom-left-radius":"8px","--custom-start":"auto",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)"},attrs:{color:"primary",text:"确定",display:"inline",widthStretch:"false",heightStretch:"false"},on:{mouseup:function(e){return t.switchStatus(e)}}})],1)]},proxy:!0},{key:"title",fn:function(){return[s("u-text",{ref:"text_62",class:"cw-style-font-size cw-style-color",staticStyle:{"--cw-style-font-size":"22px","--cw-style-color":"#ffffff",color:"#ffffff","font-size":"22px"},attrs:{text:"确定"}})]},proxy:!0}])}),s("u-modal",{ref:"modal_runstop",class:"cw-style-width cw-style-height cw-style-border-style cw-style-border-color cw-style-border-left-width cw-style-border-width cw-style-border-right-width cw-style-border-top-width cw-style-border-bottom-width",staticStyle:{"--cw-style-width":"640px","--cw-style-height":"450px","--cw-style-border-style":"solid","--cw-style-border-color":"#4e5969","--cw-style-border-left-width":"0px","--cw-style-border-right-width":"0px","--cw-style-border-top-width":"0px","--cw-style-border-bottom-width":"0px","--modal-dialog-background-color":"#4e5969","border-top-width":"0px","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-style":"solid","--update-key":"ins6","border-color":"#4e5969",width:"640px",height:"450px","--modal-dialog-width":"640px"},attrs:{size:"auto","is-heading-slot-empty":!0},scopedSlots:t._u([{key:"foot",fn:function(){return[s("u-linear-layout",{ref:"linear_layout_Tz_12",attrs:{justify:"center"}},[s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],ref:"button_Tz_6",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-font-size",staticStyle:{"--cw-style-width":"160px","--cw-style-height":"64px","--cw-style-padding-top":"13px","--cw-style-font-size":"26px",width:"160px",height:"64px","padding-top":"13px","--update-key":"o84i","font-size":"26px","--button-color-hover":"#a3a3a4","--button-color":"#ffffff","--custom-start":"auto",background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)"},attrs:{text:"取 消",color:"default"},on:{mouseup:function(e){return t.button_Tz_6_click(e)}}})],1)]},proxy:!0},{key:"body",fn:function(){return[s("u-linear-layout",{ref:"linear_layout_Tz_13",class:"cw-style-width cw-style-height",staticStyle:{"--cw-style-width":"640px","--cw-style-height":"150px",width:"640px",height:"150px"},attrs:{direction:"horizontal",wrap:!0,mode:"flex",justify:"center",alignment:"center"}},[s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],key:"button_2W_25",ref:"button_2W_25",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-bottom cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"160px","--cw-style-height":"60px","--cw-style-padding-top":"13px","--cw-style-margin-bottom":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"60px","--update-key":"kdod","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"160px","margin-bottom":"8px","--custom-start":"auto"},attrs:{loading:t.runningUpProcessing,color:"primary",text:"运行",widthStretch:"false",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)",disabled:"run"===t.$global.frontendVariables.runStatus},on:{mouseup:function(e){"run"!==t.$global.frontendVariables.runStatus&&t.button_2W_25_mouseup(e)}}}),s("u-button",{directives:[{name:"longpress",rawName:"v-longpress"}],key:"button_Tz_12",ref:"button_Tz_12",class:"cw-style-width cw-style-height cw-style-padding-top cw-style-padding cw-style-margin-bottom cw-style-margin cw-style-margin-right cw-style-font-size",staticStyle:{"--cw-style-width":"160px","--cw-style-height":"60px","--cw-style-padding-top":"13px","--cw-style-margin-bottom":"8px","--cw-style-margin-right":"8px","--cw-style-font-size":"26px",height:"60px","--update-key":"kdod","padding-top":"13px","font-size":"26px","margin-right":"8px",width:"160px","margin-bottom":"8px","--custom-start":"auto"},attrs:{loading:t.stopUpProcessing,color:"primary",text:"停止",widthStretch:"false",background:"linear-gradient(180deg, #4db1ff 0%, #1375ed 100%)",disabled:"stop"===t.$global.frontendVariables.runStatus},on:{mouseup:function(e){"stop"!==t.$global.frontendVariables.runStatus&&t.button_Tz_12_mouseup(e)}}})],1)]},proxy:!0},{key:"title",fn:function(){return[s("u-text",{ref:"text_Tz_10",class:"cw-style-font-size cw-style-color",staticStyle:{"--cw-style-font-size":"20px","--cw-style-color":"#ffffff",color:"#ffffff","font-size":"20px"}},[t._v("运行状态： "+t._s("run"===t.$global.frontendVariables.runStatus?"运行":"停止"))])]},proxy:!0},{key:"heading",fn:function(){},proxy:!0}])}),s("DeviceLoadingDialog",{attrs:{visible:t.loadingDialogVisible,text:t.loadingText},on:{cancel:t.handleLoadingCancel}})],1)},a=[],o=(s("d9e2"),s("14d9"),s("e9f5"),s("d866"),s("910d"),s("7d54"),s("ab43"),s("a732"),s("1e70"),s("79a4"),s("c1a1"),s("8b00"),s("a4e7"),s("1e5a"),s("72c3"),s("8617")),r=s("c1df"),l=s.n(r),n=s("65b2"),c=s("69d3"),d={mixins:[],data(){return{isProcessing:!1,lastState:null,currentTrayTask:void 0,lastTriggerTime:0,hasSentMessage:!1,stopFlag:!1,stopProcessLoading:!1,loadingText:{main:"读取中",sub:"读取中...请不要关闭弹窗"},runningUpProcessing:!1,stopUpProcessing:!1,pollingInterval:null,deleteQueue:[],runningQueue:[],loadingDialogVisible:!1,selectedItem:{},pageSize:10,pageNumber:1,trayNum:1,trayDtoList:this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",void 0),tableData:[],dataList:[],testData:[],plcDataList:[],count:0,min:"0 秒",minNum:0,status:"无",cycle:"-",timerBool:!0,selectedTray:void 0,trayCodeList:this.$genInitFromSchema("nasl.collection.List<nasl.core.Long>",void 0),pageint:void 0,selectTray:this.$genInitFromSchema("app.structures.TrayDto1",void 0),state1:void 0,state2:void 0,btnBool:!1,btnTestBool:!0,startBtnBool:!1,startBtnBool1:!0,checkedUpper:!1,checkedLower:!1,runningTray:"",showKeyboardDialog:!1,table_view_2W_1_state_page:void 0,getAllSubscription:null,"private-data-source-cache":new Map}},watch:{selectedItem(t){if(t){const e=this.trayDtoList.indexOf(t);this.pageNumber=Math.floor(e/this.pageSize)+1,this.$nextTick(()=>{this.scrollToSelectedItem()})}}},computed:{pageSizeOptions(){return[this.pageSize]}},components:{DeviceLoadingDialog:c["a"],KeyboardDialog:o["a"]},meta:{title:"提取托盘",crumb:void 0,crumbI18n:void 0,first:void 0,auth:void 0},methods:{handleLoadingCancel(){this.loadingDialogVisible=!1},async button_Tz_6_click(t){await(async()=>{await(this.$refs&&this.$refs["modal_runstop"]&&this.$refs["modal_runstop"].close&&this.$refs["modal_runstop"].close())})()},async button_2W_25_mouseup(t){await(async()=>{if("run"!==this.$global.frontendVariables.runStatus)try{this.runningUpProcessing=!0;let t={value:"1",tagName:"HMI_bStart"},e=await n["a"].post("/gw/screenDev/v1/sys/machine/processMoreTimes",t);console.log("mouseup: "+e),200===(e||{}).data.code?this.$global.frontendVariables.runStatus="run":await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！"))}catch(t){console.error(t),await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！"))}finally{this.runningUpProcessing=!1}})()},async button_Tz_12_mouseup(t){await(async()=>{if("stop"!==this.$global.frontendVariables.runStatus)try{this.stopUpProcessing=!0;let t={value:"1",tagName:"HMI_bMachinePause"},e=await n["a"].post("/gw/screenDev/v1/sys/machine/processMoreTimes",t);console.log("停止mouseup: "+e),200===(e||{}).data.code&&(this.$global.frontendVariables.runStatus="stop")}catch(t){console.error(t),await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！"))}finally{this.stopUpProcessing=!1}})()},async switchStatus(){await(async()=>{let t=this.$genInitFromSchema("apis.screenDev.structures.writePLCResponsetBody",void 0);if("A"===this.$global.frontendVariables.controlType){let e={value:"1",tagName:"HMI_bAuto"};return t=await n["a"].post("/gw/screenDev/v1/sys/machine/process",e),void(200===(t||{}).data.code?(this.$global.frontendVariables.controlType="B",await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].close&&this.$refs["modal_Manual"].close())):await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！")))}if("B"===this.$global.frontendVariables.controlType){let e={value:"0",tagName:"HMI_bAuto"};return t=await n["a"].post("/gw/screenDev/v1/sys/machine/process",e),void(200===(t||{}).data.code?(this.$global.frontendVariables.controlType="A",await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].close&&this.$refs["modal_Manual"].close())):await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！")))}})()},async openDialog(){await(async()=>{await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].close&&this.$refs["modal_Manual"].close())})()},changeRowColor(t){return(t=>(()=>{const e={backgroundColor:null,color:null};return e.backgroundColor=this.$utils["ToString"]("nasl.core.String",(()=>{{let e=((t||{}).item||{}).state;return 0!==e&&null!=e?"#2689f3":""}})()),e.color="",e})())(t)},scrollToSelectedItem(){const t=document.getElementById("row-"+this.selectedItem.trayCode);t&&t.scrollIntoView({behavior:"smooth"})},setPageSize(){const t=window.innerHeight,e=t-400;this.pageSize=Math.floor(e/43)},onPageChange(t){const{size:e,number:s}=t;this.pageSize=e,this.pageNumber=s},async gettable(){let t=await n["a"].get("/gw/screenDev/v1/sys/machine/getTrays",{params:{size:1e3,start:0}});200===(t||{}).data.code&&(this.state1=0,this.state2=0,this.pageint=this.table_view_2W_1_state_page,await console["info"](this.$utils["ToString"]("nasl.core.String",this.$utils["ToString"]("nasl.core.String","页码----")+this.$utils["ToString"]("nasl.core.Long",this.pageint))),this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",this.$utils["Clear"](this.trayDtoList,"deep","nasl.collection.List<app.structures.TrayDto1>")),await(this.$refs&&this.$refs["table_view_2W_1"]&&this.$refs["table_view_2W_1"].reload&&this.$refs["table_view_2W_1"].reload()),this.$genInitFromSchema("nasl.collection.List<nasl.core.Long>",this.$utils["Clear"](this.trayCodeList,"deep","nasl.collection.List<nasl.core.Long>")),this.tableData=t.data.result)},async getAllTest(){let t=await n["a"].get("/gw/screenDev/v1/sys/machine/getAll");if(200===(t||{}).data.code){let e=window.localStorage.getItem("testData"),s=window.localStorage.getItem("count"),i=window.localStorage.getItem("status");null!=s&&(this.count=s),null!=i&&(this.status=i),null!=e&&0!=JSON.parse(e).length&&0!=t.data.result.length&&(e=JSON.parse(e),e=this.mergeArraysById(e,t.data.result),this.dataList=e,this.trayDtoList=this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",this.$utils["Clone"](this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",await this.$utils["ListTransformAsync"](this.dataList||{},async t=>await(async()=>{const e=this.$genInitFromSchema("app.structures.TrayDto1",this.$utils["New"]({concept:"TypeAnnotation",typeKind:"reference",typeNamespace:"app.structures",typeName:"TrayDto1"}));return e.trayCode=(t||{}).trayCode,e.storageCode=(t||{}).storageNumber,e.state=(t||{}).state,e})())))))}},async manulTray_created(t){await(async()=>{this.$global.frontendVariables.pageName="1.1.0 |  自动测试",await this.getEnable(),await this.gettable(),await this.getAllTest()})()},async manulTray_destroyed(t){await(async()=>{this.$global.frontendVariables.gettraytimeBool=!1,this.$global.frontendVariables.operatorBool=!1,this.$global.frontendVariables.trayBool=!1})()},onNumberInputFocus(){this.showKeyboardDialog=!0},async getEnable(){let t=await n["a"].post("/gw/screenDev/v1/sys/machine/getByTags",["simulationTest"]);if(200==(t||{}).data.code){console.log(t.data.result);const e=window.localStorage.getItem("startBtnBool");if("1"==t.data.result[0].plcValue){this.btnBool=!0,this.btnTestBool=!1,"false"===e?(this.startBtnBool=!1,this.btnBool=!1,this.startBtnBool1=!1):(this.startBtnBool=!0,this.startBtnBool1=!1);const t=window.localStorage.getItem("startTime");if(null!=t){let e=l()().valueOf(),s=Math.floor((e-t)/1e3);const i=window.localStorage.getItem("min");null!=i&&(s+=parseInt(i)),this.min=s+" 秒",this.cycle=Math.floor((e-t)/1e3/this.count),0==this.count&&(this.cycle=0)}this.checkedUpper=!0,this.checkedLower=!0}}},async button_3_click(t){await(async()=>{await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].close&&this.$refs["modal_Manual"].close())})()},async button_4_click(t){await(async()=>{let t={};return"A"===this.$global.frontendVariables.controlType?(t=await n["a"].post("/gw/screenDev/v1/sys/machine/process",{value:"1",tagName:"HMI_bAuto"}),void(200===(t||{}).data.code?(this.$global.frontendVariables.controlType="B",await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].close&&this.$refs["modal_Manual"].close())):await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！")))):"B"===this.$global.frontendVariables.controlType?(t=await n["a"].post("/gw/screenDev/v1/sys/machine/process",{value:"0",tagName:"HMI_bAuto"}),void(200===(t||{}).data.code?(this.$global.frontendVariables.controlType="A",await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].close&&this.$refs["modal_Manual"].close())):await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！")))):void 0})()},async checkIsRun(){return console.log("this.$global.frontendVariables.controlType",this.$global.frontendVariables.controlType),"stop"!==this.$global.frontendVariables.runStatus||(await(this.$refs&&this.$refs["modal_runstop"]&&this.$refs["modal_runstop"].open&&this.$refs["modal_runstop"].open()),this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请切换到运行模式后在进行测试！")),!1)},async button_2W_16_click(t){let e=await this.checkIsAuto();e&&(console.log("plcDataList: "+this.plcDataList),0==this.plcDataList.length?(this.btnBool=!0,this.startBtnBool=!0,this.btnTestBool=!1,this.startBtnBool1=!1,this.checkedUpper=!0,this.checkedLower=!0,await(async()=>{let t=await n["a"].post("/gw/screenDev/v1/sys/machine/process",{value:"1",tagName:"simulationTest"});200===(t||{}).data.code?window.localStorage.setItem("testMode",!0):await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！"))})()):await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请等待任务结束后再启用测试模式！")))},async button_2W_17_click(t){if(!this.startBtnBool)return void await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请先停止测试！"));if(console.log("this.plcDataList"),console.log(this.plcDataList),0!==this.plcDataList.length)return void await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请先等待任务执行完成！"));let e={tagName:"simulationTest",value:"0"},s=await n["a"].post("/gw/screenDev/v1/sys/machine/process",e);200===s.data.code?(this.btnTestBool=!0,this.btnBool=!1,this.startBtnBool=!1,this.startBtnBool1=!0,this.dataList=[],window.localStorage.setItem("testData",JSON.stringify([])),window.localStorage.removeItem("startTime"),window.localStorage.setItem("testMode",!1),window.localStorage.removeItem("runningTray"),await this.clearTimeout()):await this.$toast.error(this.$utils["ToString"]("nasl.core.String","系统繁忙，请重试！"))},async checkIsAuto(){return console.log("this.$global.frontendVariables.controlType",this.$global.frontendVariables.controlType),"A"!==this.$global.frontendVariables.controlType||(await(this.$refs&&this.$refs["modal_Manual"]&&this.$refs["modal_Manual"].open&&this.$refs["modal_Manual"].open()),this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请切换到自动模式后在进行测试！")),!1)},async button_Tz_1_click(t){let e=await this.checkIsAuto();if(!e)return;if(!this.checkedUpper&&!this.checkedLower)return void await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请选择至少一个传输位置！"));const s=JSON.parse(window.localStorage.getItem("testData"));0!=this.dataList.length||0!=s.length?(0==this.dataList.length&&0!=s.length&&(this.dataList=s),this.dataList.length<2?await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请选择至少两个托盘！")):(this.dataList=this.dataList.sort((t,e)=>t.trayCode-e.trayCode),await this.selectTransferPosition(),await this.startPolling())):await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","请选择需要测试的托盘！"))},async button_Tz_2_click(t){this.stopProcessLoading=!0,this.btnBool=!0,this.startBtnBool=!0,this.loadingText={main:"正在执行中...",sub:"等待执行完成，没有异常，请勿取消！"},this.loadingDialogVisible=!0,await this.stopTest()},async selectTransferPosition(t){let e=[];if(this.checkedUpper&&!this.checkedLower){let t={tagName:"testEnabledUpper",value:"1"},s={tagName:"testEnabledLower",value:"0"};this.checkedLower=!1,e.push(t),e.push(s)}else if(this.checkedLower&&!this.checkedUpper){let t={tagName:"testEnabledUpper",value:"0"},s={tagName:"testEnabledLower",value:"1"};this.checkedUpper=!1,e.push(t),e.push(s)}else{let t={tagName:"testEnabledUpper",value:"1"},s={tagName:"testEnabledLower",value:"1"};e.push(t),e.push(s)}window.localStorage.setItem("runTest","true"),await(async()=>{let t=await n["a"].post("/gw/screenDev/v1/sys/machine/processBatch",e);200===(t||{}).data.code&&await this.sendMessage()})()},async getResult(t,e){const s=t.findIndex(t=>parseInt(t.value)===e);if(-1===s)throw new Error(`Value ${e} not found in the list.`);return[...t.slice(s+1),...t.slice(0,s)]},async sendMessage(){await(async()=>{let t=this.$genInitFromSchema("apis.screenDev.structures.processQueueResponseBody",void 0),e=null,s=this.dataList.map(t=>({value:t.trayCode}));if(e=[...s].sort((t,e)=>parseInt(t.value,10)-parseInt(e.value,10)),console.log("sendMessage"),t=await n["a"].post("/gw/screenDev/v1/sys/machine/processQueueBatch",e.slice(0,2)),200===(t||{}).data.code){this.btnBool=!1,this.startBtnBool=!1,this.status="测试中",window.localStorage.setItem("status",this.status),window.localStorage.setItem("startBtnBool",this.startBtnBool);let t=window.localStorage.getItem("startTime"),e=l()().valueOf();console.log("startTime====="+t),""!=t&&null!=t||window.localStorage.setItem("startTime",e),window.localStorage.setItem("testData",JSON.stringify(this.dataList))}else await this.$toast.error(t.data.message)})()},async filterData(t){let e=window.localStorage.getItem("runningTray"),s=window.localStorage.getItem("startBtnBool");if(null!=e&&""!=e&&"true"==s){let s=t[t.length-1].trayCode;if(e==s)return t;t=t.filter(t=>t.trayCode>e)}return t},async stopTest(){window.localStorage.setItem("runTest","false");let t=await n["a"].get("/gw/screenDev/v1/sys/machine/stopTest");200===(t||{}).data.code&&(console.log(this.plcDataList),console.log(JSON.parse(window.localStorage.getItem("testData"))),this.currentTrayTask=void 0,this.startBtnBool=!0,this.status="无",window.localStorage.removeItem("status"),window.localStorage.setItem("startBtnBool",this.startBtnBool),window.localStorage.removeItem("startTime"),window.localStorage.removeItem("runTest"),this.lastTriggerTime=0,this.stopFlag=!0,window.localStorage.setItem("min",this.minNum))},async button_add_click(t){console.log(this.trayNum),console.log(this.tableData);const e=this.tableData.findIndex(t=>t.trayCode===this.trayNum.toString());if(-1==e)return void await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","当前托盘不存在！"));const s=this.dataList.findIndex(t=>t.trayCode===this.trayNum.toString());-1==s?(window.localStorage.removeItem("runningTray"),this.dataList.push(this.tableData[e]),this.trayDtoList=this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",this.$utils["Clone"](this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",await this.$utils["ListTransformAsync"](this.dataList||{},async t=>await(async()=>{const e=this.$genInitFromSchema("app.structures.TrayDto1",this.$utils["New"]({concept:"TypeAnnotation",typeKind:"reference",typeNamespace:"app.structures",typeName:"TrayDto1"}));return e.trayCode=this.$utils["FromString"]((t||{}).trayCode,"nasl.core.Long"),e.storageCode=this.$utils["FromString"]((t||{}).storageNumber,"nasl.core.Long"),e})()))))):await this.$toast.warning(this.$utils["ToString"]("nasl.core.String","当前托盘已添加！"))},async button_addAll_click(t){console.log(this.trayDtoList),console.log(this.tableData),this.trayDtoList=this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",this.$utils["Clone"](this.$genInitFromSchema("nasl.collection.List<app.structures.TrayDto1>",await this.$utils["ListTransformAsync"](this.tableData||{},async t=>await(async()=>{const e=this.$genInitFromSchema("app.structures.TrayDto1",this.$utils["New"]({concept:"TypeAnnotation",typeKind:"reference",typeNamespace:"app.structures",typeName:"TrayDto1"}));return e.trayCode=this.$utils["FromString"]((t||{}).trayCode,"nasl.core.Long"),e.storageCode=this.$utils["FromString"]((t||{}).storageNumber,"nasl.core.Long"),e})())))),this.dataList=[],this.dataList=this.tableData,this.dataList=this.dataList.sort((t,e)=>t.trayCode-e.trayCode),window.localStorage.removeItem("runningTray")},async button_clear_click(t){this.trayDtoList=[],this.dataList=[],window.localStorage.removeItem("runningTray")},async mergeIfNewElements(t,e){const s=new Set(t.map(t=>t.trayCode)),i=e.filter(t=>!s.has(t.trayCode));return i.length>0?t.concat(i):t},async isSameState(t,e){return!(!t||!e)&&(t.isEmpty===e.isEmpty&&t.testFlag===e.testFlag&&t.length===e.length&&t.timeStamp===e.timeStamp)},startPolling(){if(this.pollingInterval)return;console.log("启动定时器");const t="true"===localStorage.getItem("isPolling"),e=localStorage.getItem("completeIntervalId");t&&e&&(console.warn("清除之前的计时器: ",e),clearInterval(parseInt(e,10))),this.pollingInterval=setInterval(()=>{this.pollingLogic()},1e3),localStorage.setItem("isPolling","true"),localStorage.setItem("completeIntervalId",this.pollingInterval.toString())},stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null),localStorage.setItem("isPolling","false"),localStorage.removeItem("completeIntervalId")},async pollingLogic(){const t=window.localStorage.getItem("runTest");0!==this.deleteQueue.length&&0!==this.runningQueue.length&&t&&this.deleteQueue.forEach((e,s)=>{const i=e.trayCode,a=this.runningQueue.some(t=>t.trayCode===i);if(!a){const e=this.trayDtoList.findIndex(t=>t.trayCode===i),a=this.dataList.findIndex(t=>t.trayCode===i);if(-1!==e){const[i]=this.trayDtoList.splice(e,1),[o]=this.dataList.splice(a,1);if(this.trayDtoList.push(i),this.dataList.push(o),this.deleteQueue.splice(s,1),window.localStorage.setItem("testData",JSON.stringify(this.dataList)),this.count++,localStorage.setItem("count",this.count),!this.stopFlag&&t&&1===this.deleteQueue.length){console.log("进入下一个托盘任务----------------------------------------------------------------------");const t=this.dataList.findIndex(t=>t.trayCode===this.deleteQueue[0].trayCode);this.getNextQueueItem(t)}}}})},async getAll(t){console.log("getAll"),this.getAllSubscription=await this.$wsSubscribe("/topic/getTrayState",async t=>{const e=t.body,s=JSON.parse(e);if(console.log("parsedBody: "+s),0===s.length){if(this.loadingDialogVisible=!1,this.stopProcessLoading=!1,this.stopFlag)return window.localStorage.removeItem("testData"),this.trayDtoList=[],this.dataList=[],window.localStorage.removeItem("runningTray"),await(this.$refs&&this.$refs["table_view_2W_1"]&&this.$refs["table_view_2W_1"].reload&&this.$refs["table_view_2W_1"].reload()),this.stopFlag=!1,void this.stopPolling()}else this.stopProcessLoading=!0;this.dataList.forEach(t=>{t.state=0}),this.dataList=this.mergeArraysById(this.dataList,s),this.plcDataList=s;const i=[];for(const o of this.dataList||[]){const t={trayCode:o.trayCode||null,storageCode:o.storageNumber||null,state:o.state||null};i.push(t)}this.trayDtoList=i,this.runningQueue=this.trayDtoList.filter(t=>0!==t.state&&null!==t.state),this.deleteQueue=await this.mergeIfNewElements(this.deleteQueue,this.runningQueue);const a=window.localStorage.getItem("startTime");if(null!=a){let t=Date.now(),e=Math.floor((t-a)/1e3);const s=window.localStorage.getItem("min"),i=window.localStorage.getItem("count");null!=s&&(e+=parseInt(s)),this.minNum=e,this.min=e+" 秒",null!=i&&0!==i?(this.count=parseInt(i),this.cycle=Math.floor(this.minNum/this.count)):(this.count=0,this.cycle=0)}})},async getNextQueueItem(t){let e;console.log("6666666666666666666666"),t<this.dataList.length-1?e=t+1:t===this.dataList.length-1&&(e=0),await this.sendSingleMessage(this.dataList[e].trayCode)},async sendSingleMessage(t){let e=await n["a"].post("/gw/screenDev/v1/sys/machine/processQueue",{value:t});200!==e.data.code&&this.$message.error(e.data.message)},mergeArraysById(t,e){window.localStorage.getItem("startBtnBool");let s=null;return t.forEach(t=>{e.forEach((i,a)=>{if(a<2&&parseInt(t.trayCode)===e[a].trayNumber)return t.state=e[a].statusValue,void(7===e[a].statusValue&&(s=t.trayCode))})}),null!==s&&localStorage.setItem("runningTray",s),t},async cycleSendMessage(){window.localStorage.getItem("startBtnBool");0!==this.dataList.length&&(console.log("==========重新发送测试任务"),this.count++,await this.sendMessage())},async reStartCount(){this.count=0,window.localStorage.removeItem("count"),this.min="0 秒",window.localStorage.removeItem("startTime"),window.localStorage.removeItem("min"),this.cycle=0},async startTimeout(){await n["a"].get("/gw/screenDev/v1/getAllTrayState/start")},async clearTimeout(){await n["a"].get("/gw/screenDev/v1/getAllTrayState/stop")},async button_2W_14_click(t){await(async()=>{this.trayNum=this.$global.add(this.trayNum,1)})()},async button_2W_15_click(t){await(async()=>{this.trayNum>1?this.trayNum=this.$global.minus(this.trayNum,1):this.trayNum=1})()},genviewMatchExpression_0ifknh20(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_16yc72a1(t){return(()=>{if(this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!0))return"#2689F3";this.$global.isEqual(this.selectedTray==((t||{}).item||{}).trayCode,!1)})()},genviewMatchExpression_0qzj6st1(t){return(()=>this.$global.isEqual(((t||{}).item||{}).state,1)?"排队等待中":this.$global.isEqual(((t||{}).item||{}).state,2)?"执行中":this.$global.isEqual(((t||{}).item||{}).state,3)?"在缓存区1层":this.$global.isEqual(((t||{}).item||{}).state,4)?"在缓存区2层":this.$global.isEqual(((t||{}).item||{}).state,5)?"在拣取区1层":this.$global.isEqual(((t||{}).item||{}).state,6)?"在拣取区2层":this.$global.isEqual(((t||{}).item||{}).state,7)?"回退中":this.$global.isEqual(((t||{}).item||{}).state,8)?"测试完成":this.$global.isEqual(((t||{}).item||{}).state,10)?"停止":"请求")()},__isShallowEqualArray(t,e){return t.length===e.length&&t.every((t,s)=>{const i=e[s];return typeof t===typeof i&&("string"===typeof t?t===i:"object"===typeof t&&["item","index","rowIndex","columnIndex","value"].every(e=>t[e]===i[e]))})},__getDataSourceCacheFn(t,e=[]){if(!e.length)return this["private-data-source-cache"].get(t);for(let[s,i]of this["private-data-source-cache"].entries())if(this.__isShallowEqualArray(s,[t,...e]))return i},__setDataSourceCacheFn(t,e=[],s){e.length?this["private-data-source-cache"].set([t,...e],s):this["private-data-source-cache"].set(t,s)},__getOrCreateDataSource(t,e=[],s){let i=this.__getDataSourceCacheFn(t,e);return i||(i=s,this.__setDataSourceCacheFn(t,e,i)),i},onSync_State(t,e,s){this[`${t}_state_${e}`]=s}},async created(){this.loadingText={main:"读取中",sub:"读取中...请不要关闭弹窗"},this.loadingDialogVisible=!0,await this.manulTray_created()},async destroyed(){await this.manulTray_destroyed()},async beforeDestroy(){},async mounted(){this.setPageSize(),window.addEventListener("resize",()=>{this.setPageSize()});const t="true"===localStorage.getItem("isPolling");t&&!this.pollingInterval&&this.startPolling(),await this.startTimeout(),this.count=null===window.localStorage.getItem("count")?0:window.localStorage.getItem("count"),this.minNum=null===window.localStorage.getItem("min")?0:window.localStorage.getItem("min"),this.min=this.minNum+" 秒",0!==this.count?this.cycle=Math.floor(this.minNum/this.count):this.cycle=0,await this.getAll(this.trayDtoList),this.loadingDialogVisible=!1}},p=d,g=(s("1f9f"),s("2877")),h=Object(g["a"])(p,i,a,!1,null,"3ffadda4",null);e["default"]=h.exports},"69d3":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{visible:t.dialogVisible,"custom-class":"device-loading-dialog","show-close":!1,width:"400px","append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"dialog-content"},[s("div",{staticClass:"loading-animation"},[s("img",{attrs:{src:t.loadingGif,alt:"loading"}})]),s("div",{staticClass:"status-text"},[s("span",{staticClass:"main-text"},[t._v(t._s(t.text.main))]),s("span",{staticClass:"sub-text"},[t._v(t._s(t.text.sub))])]),s("div",{staticClass:"action-buttons"},[s("el-button",{staticClass:"cancel-btn",style:t.buttonStyle,on:{click:t.handleCancel}},[t._v(" "+t._s(t.cancelText)+" ")])],1)])])],1)},a=[],o={name:"device-loading-dialog",props:{visible:Boolean,text:{type:Object,default:()=>({main:"读取中",sub:"读取中...请不要关闭弹窗"})},cancelText:{type:String,default:"取 消"}},data(){return{loadingGif:s("12ae"),buttonStyle:{background:"linear-gradient(180deg, #a8b8ca 0%, #6b7886 100%)",color:"#ffffff",fontSize:"26px",borderRadius:"8px",width:"160px",height:"64px",border:"none"}}},computed:{dialogVisible:{get(){return this.visible},set(t){this.$emit("update:visible",t)}}},methods:{handleCancel(){this.$emit("cancel"),this.dialogVisible=!1}}},r=o,l=(s("36cb"),s("db74"),s("2877")),n=Object(l["a"])(r,i,a,!1,null,"e0e9b01e",null);e["a"]=n.exports},db74:function(t,e,s){"use strict";s("601f")}}]);